∂
[E:\P.R.O.J.E.C.T.S\GrowIndigoWebApplication\Project\GrowMandi.Web\App_Start\BundleConfig.cs
	namespace 	
	GrowMandi
 
. 
Web 
{ 
public 

class 
BundleConfig 
{ 
public		 
static		 
void		 
RegisterBundles		 *
(		* +
BundleCollection		+ ;
bundles		< C
)		C D
{

 	
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) ;
); <
.< =
Include= D
(D E
$str 7
)7 8
)8 9
;9 :
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) >
)> ?
.? @
Include@ G
(G H
$str 4
)4 5
)5 6
;6 7
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) >
)> ?
.? @
Include@ G
(G H
$str 7
)7 8
)8 9
;9 :
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) >
)> ?
.? @
Include@ G
(G H
$str /
)/ 0
)0 1
;1 2
bundles 
. 
Add 
( 
new 
ScriptBundle (
(( )
$str) C
)C D
.D E
IncludeE L
(L M
$str 9
)9 :
): ;
;; <
bundles$$ 
.$$ 
Add$$ 
($$ 
new$$ 
ScriptBundle$$ (
($$( )
$str$$) =
)$$= >
.$$> ?
Include$$? F
($$F G
$str%% 1
)%%1 2
)%%2 3
;%%3 4
bundles'' 
.'' 
Add'' 
('' 
new'' 
ScriptBundle'' (
(''( )
$str'') >
)''> ?
.''? @
Include''@ G
(''G H
$str(( 1
)((1 2
)((2 3
;((3 4
bundles** 
.** 
Add** 
(** 
new** 
ScriptBundle** (
(**( )
$str**) <
)**< =
.**= >
Include**> E
(**E F
$str++ 3
)++3 4
)++4 5
;++5 6
bundles00 
.00 
Add00 
(00 
new00 
ScriptBundle00 (
(00( )
$str00) ;
)00; <
.00< =
Include00= D
(00D E
$str11 +
)11+ ,
)11, -
;11- .
bundles33 
.33 
Add33 
(33 
new33 
StyleBundle33 '
(33' (
$str33( 7
)337 8
.338 9
Include339 @
(33@ A
$str44 )
,44) *
$str66
 /
,66/ 0
$str77 !
,77! "
$str88  
,88  !
$str99 &
,99& '
$str:: !
)::! "
)::" #
;::# $
};; 	
}<< 
}== ß
[E:\P.R.O.J.E.C.T.S\GrowIndigoWebApplication\Project\GrowMandi.Web\App_Start\FilterConfig.cs
	namespace 	
	GrowMandi
 
. 
Web 
{ 
public 

class 
FilterConfig 
{ 
public 
static 
void !
RegisterGlobalFilters 0
(0 1"
GlobalFilterCollection1 G
filtersH O
)O P
{		 	
filters

 
.

 
Add

 
(

 
new

  
HandleErrorAttribute

 0
(

0 1
)

1 2
)

2 3
;

3 4
} 	
} 
} Ö	
ZE:\P.R.O.J.E.C.T.S\GrowIndigoWebApplication\Project\GrowMandi.Web\App_Start\RouteConfig.cs
	namespace 	
	GrowMandi
 
. 
Web 
{		 
public

 

class

 
RouteConfig

 
{ 
public 
static 
void 
RegisterRoutes )
() *
RouteCollection* 9
routes: @
)@ A
{ 	
routes 
. 
IgnoreRoute 
( 
$str ;
); <
;< =
routes 
. 
MapRoute 
( 
name 
: 
$str 
,  
url 
: 
$str 1
,1 2
defaults 
: 
new 
{ 

controller  *
=+ ,
$str- 3
,3 4
action5 ;
=< =
$str> E
,E F
idG I
=J K
UrlParameterL X
.X Y
OptionalY a
}b c
) 
; 
} 	
} 
} ¥
ZE:\P.R.O.J.E.C.T.S\GrowIndigoWebApplication\Project\GrowMandi.Web\App_Start\UnityConfig.cs
public 
static 
class 
UnityConfig 
{ 
public 
static 
void 
RegisterComponents &
(& '
)' (
{ 
var 
	container 
= 
new 
UnityContainer *
(* +
)+ ,
;, -
	container 
. 
RegisterType 
< 
IUnitOfWork *
,* +

UnitOfWork, 6
>6 7
(7 8
)8 9
;9 :
	container 
. 
RegisterType 
< 
IUserServices ,
,, -
UserServices. :
>: ;
(; <
)< =
;= >
	container 
. 
RegisterType 
< 
IUserRepository .
,. /
UserRepository0 >
>> ?
(? @
)@ A
;A B
	container 
. 
RegisterType 
< 
ICommonService -
,- .
CommonService/ <
>< =
(= >
)> ?
;? @
	container   
.   
RegisterType   
<   
ICommonRepository   0
,  0 1
CommonRepository  2 B
>  B C
(  C D
)  D E
;  E F
	container"" 
."" 
RegisterType"" 
<"" 
IProductService"" .
,"". /
ProductService""0 >
>""> ?
(""? @
)""@ A
;""A B
	container## 
.## 
RegisterType## 
<## 
IProductRepository## 1
,##1 2
ProductRepository##3 D
>##D E
(##E F
)##F G
;##G H
	container%% 
.%% 
RegisterType%% 
<%% 
IOrderService%% ,
,%%, -
OrderService%%. :
>%%: ;
(%%; <
)%%< =
;%%= >
	container&& 
.&& 
RegisterType&& 
<&& 
IOrderRepository&& /
,&&/ 0
OrderRepository&&1 @
>&&@ A
(&&A B
)&&B C
;&&C D
DependencyResolver(( 
.(( 
SetResolver(( &
(((& '
new((' *#
UnityDependencyResolver((+ B
(((B C
	container((C L
)((L M
)((M N
;((N O
})) 
}++ ÖÆ
bE:\P.R.O.J.E.C.T.S\GrowIndigoWebApplication\Project\GrowMandi.Web\Controllers\AccountController.cs
	namespace 	
	GrowMandi
 
. 
Web 
. 
Controllers #
{ 
public 

class 
AccountController "
:# $
BaseController% 3
{ 
ResponceModel 
objResponse !
=" #
new$ '
ResponceModel( 5
(5 6
)6 7
;7 8
CommonController 
objCommonController ,
=- .
new/ 2
CommonController3 C
(C D
)D E
;E F
CommonFunctions 
objCommonFunctions *
=+ ,
new- 0
CommonFunctions1 @
(@ A
)A B
;B C
[ 	

Dependency	 
] 
public   
IUserServices   
ObjIUserService   ,
{  - .
get  / 2
;  2 3
set  4 7
;  7 8
}  9 :
[## 	

Dependency##	 
]## 
public$$ 
ICommonService$$ 
ObjICommonServices$$ 0
{$$1 2
get$$3 6
;$$6 7
set$$8 ;
;$$; <
}$$= >
public** 
ActionResult** 
Index** !
(**! "
)**" #
{++ 	
return-- 
View-- 
(-- 
)-- 
;-- 
}.. 	
[88 	
HttpPost88	 
]88 
[99 	
AllowAnonymous99	 
]99 
public:: 
ActionResult:: 
UserRegistration:: ,
(::, -
UserInfoViewModel::- >%
objMandiUserInfoViewModel::? X
)::X Y
{;; 	
try<< 
{== 
string>> 
mobileNumber>> #
=>>$ %%
objMandiUserInfoViewModel>>& ?
.>>? @
MobileNumber>>@ L
;>>L M
var?? 
getmobileNumber?? #
=??$ %
ObjICommonServices??& 8
.??8 9"
CheckMobileNumberExits??9 O
(??O P
mobileNumber??P \
)??\ ]
;??] ^
if@@ 
(@@ %
objMandiUserInfoViewModel@@ -
!=@@. 0
null@@1 5
)@@5 6
{AA 
varBB 
resultBB 
=BB  
ObjIUserServiceBB! 0
.BB0 1
AddUserBB1 8
(BB8 9%
objMandiUserInfoViewModelBB9 R
)BBR S
;BBS T
ifCC 
(CC 
resultCC 
)CC 
{DD 
TempDataEE  
[EE  !
$strEE! 2
]EE2 3
=EE4 5
ResourceEE6 >
.EE> ?2
&GrowOnline_Message_RegistrationSuccessEE? e
;EEe f
returnFF 
RedirectToActionFF /
(FF/ 0
$strFF0 7
,FF7 8
$strFF9 ?
)FF? @
;FF@ A
}GG 
elseHH 
{II 
TempDataJJ  
[JJ  !
$strJJ! 1
]JJ1 2
=JJ3 4
ResourceJJ5 =
.JJ= >*
GrowOnline_Message_LoginFailedJJ> \
;JJ\ ]
returnKK 
RedirectToActionKK /
(KK/ 0
$strKK0 7
,KK7 8
$strKK9 ?
)KK? @
;KK@ A
}LL 
}OO 
elsePP 
{QQ 
returnRR 
RedirectToActionRR +
(RR+ ,
$strRR, 3
,RR3 4
$strRR5 ;
)RR; <
;RR< =
}SS 
}TT 
catchXX 
(XX 
	ExceptionXX 
exXX 
)XX  
{YY 
throwZZ 
exZZ 
;ZZ 
}__ 
}aa 	
[hh 	
HttpPosthh	 
]hh 
[ii 	
AllowAnonymousii	 
]ii 
publicjj 

JsonResultjj '
UserLoginVerifyMobileNumberjj 5
(jj5 6
LoginViewModeljj6 D
objLoginViewModeljjE V
)jjV W
{kk 	
tryll 
{mm 
stringnn 
mobileNumbernn #
=nn$ %
objLoginViewModelnn& 7
.nn7 8
MobileNumbernn8 D
;nnD E
ifoo 
(oo 
mobileNumberoo  
!=oo! #
nulloo$ (
)oo( )
{pp 
varqq 
	otpNumberqq !
=qq" #
objCommonFunctionsqq$ 6
.qq6 7
GenerateOTPqq7 B
(qqB C
)qqC D
;qqD E
ifrr 
(rr 
objCommonFunctionsrr *
.rr* +
SendOTPrr+ 2
(rr2 3
	otpNumberrr3 <
,rr< =
mobileNumberrr> J
)rrJ K
)rrK L
{ss 
objLoginViewModeluu )
.uu) *
MobileNumberuu* 6
=uu7 8
mobileNumberuu9 E
;uuE F
objLoginViewModelvv )
.vv) *
OTPvv* -
=vv. /
	otpNumbervv0 9
;vv9 :
objLoginViewModelww )
.ww) *
CreatedDateww* 5
=ww6 7
DateTimeww8 @
.ww@ A
NowwwA D
;wwD E
varxx 
addOtpxx "
=xx# $
ObjIUserServicexx% 4
.xx4 5

AddUserOtpxx5 ?
(xx? @
objLoginViewModelxx@ Q
)xxQ R
;xxR S
ifyy 
(yy 
addOtpyy "
)yy" #
{zz 
TempData{{ $
[{{$ %
$str{{% 3
]{{3 4
={{5 6
Resource{{7 ?
.{{? @2
&GrowOnline_Message_RegistrationSuccess{{@ f
;{{f g
return|| "
Json||# '
(||' (
addOtp||( .
,||. /
JsonRequestBehavior||0 C
.||C D
AllowGet||D L
)||L M
;||M N
}}} 
else~~ 
{ 
TempData
ÄÄ $
[
ÄÄ$ %
$str
ÄÄ% 0
]
ÄÄ0 1
=
ÄÄ2 3
Resource
ÄÄ4 <
.
ÄÄ< =4
&GrowOnline_Message_RegistrationSuccess
ÄÄ= c
;
ÄÄc d
return
ÅÅ "
Json
ÅÅ# '
(
ÅÅ' (
addOtp
ÅÅ( .
,
ÅÅ. /!
JsonRequestBehavior
ÅÅ0 C
.
ÅÅC D
AllowGet
ÅÅD L
)
ÅÅL M
;
ÅÅM N
}
ÇÇ 
}
ÖÖ 
else
ÜÜ 
{
áá 
return
àà 
Json
àà #
(
àà# $
$str
àà$ +
,
àà+ ,!
JsonRequestBehavior
àà- @
.
àà@ A
AllowGet
ààA I
)
ààI J
;
ààJ K
}
ââ 
}
ää 
else
ãã 
{
åå 
TempData
çç 
[
çç 
$str
çç (
]
çç( )
=
çç* +
Resource
çç, 4
.
çç4 54
&GrowOnline_Message_RegistrationSuccess
çç5 [
;
çç[ \
return
éé 
Json
éé 
(
éé  
$str
éé  '
,
éé' (!
JsonRequestBehavior
éé) <
.
éé< =
AllowGet
éé= E
)
ééE F
;
ééF G
}
èè 
}
êê 
catch
ìì 
(
ìì 
	Exception
ìì 
ex
ìì 
)
ìì  
{
îî 
throw
ïï 
ex
ïï 
;
ïï 
}
öö 
}
úú 	
[
•• 	
HttpPost
••	 
]
•• 
public
¶¶ 

JsonResult
¶¶ 
CheckOTPForLogin
¶¶ *
(
¶¶* +
LoginViewModel
¶¶+ 9
model
¶¶: ?
,
¶¶? @
string
¶¶A G
	ReturnUrl
¶¶H Q
)
¶¶Q R
{
ßß 	
var
™™ 
user
™™ 
=
™™  
ObjICommonServices
™™ )
.
™™) *
CheckOTPForLogin
™™* :
(
™™: ;
model
™™; @
)
™™@ A
;
™™A B
if
´´ 
(
´´ 
user
´´ 
!=
´´ 
null
´´ 
)
´´ 
{
¨¨ 
Session
≠≠ 
[
≠≠ 
$str
≠≠ &
]
≠≠& '
=
≠≠( )
user
≠≠* .
;
≠≠. /
var
ÆÆ 
temp
ÆÆ 
=
ÆÆ 
TempData
ÆÆ #
[
ÆÆ# $
$str
ÆÆ$ -
]
ÆÆ- .
;
ÆÆ. /
if
ØØ 
(
ØØ 
temp
ØØ 
!=
ØØ 
null
ØØ  
)
ØØ  !
{
∞∞ 
if
±± 
(
±± 
temp
±± 
.
±± 
ToString
±± %
(
±±% &
)
±±& '
==
±±( *
$str
±±+ :
)
±±: ;
{
≤≤ 
return
≥≥ 
Json
≥≥ #
(
≥≥# $
$str
≥≥$ 1
,
≥≥1 2!
JsonRequestBehavior
≥≥3 F
.
≥≥F G
AllowGet
≥≥G O
)
≥≥O P
;
≥≥P Q
}
¥¥ 
else
µµ 
{
∂∂ 
return
∑∑ 
Json
∑∑ #
(
∑∑# $
$str
∑∑$ *
,
∑∑* +!
JsonRequestBehavior
∑∑, ?
.
∑∑? @
AllowGet
∑∑@ H
)
∑∑H I
;
∑∑I J
}
∏∏ 
}
ππ 
else
∫∫ 
{
ºº 
return
ΩΩ 
Json
ΩΩ 
(
ΩΩ  
$str
ΩΩ  &
,
ΩΩ& '!
JsonRequestBehavior
ΩΩ( ;
.
ΩΩ; <
AllowGet
ΩΩ< D
)
ΩΩD E
;
ΩΩE F
}
ææ 
}
¿¿ 
else
¡¡ 
{
¬¬ 
if
ƒƒ 
(
ƒƒ 
TempData
ƒƒ 
[
ƒƒ 
$str
ƒƒ +
]
ƒƒ+ ,
!=
ƒƒ- /
null
ƒƒ0 4
)
ƒƒ4 5
{
≈≈ 
return
∆∆ 
Json
∆∆ 
(
∆∆  
$str
∆∆  -
,
∆∆- .!
JsonRequestBehavior
∆∆/ B
.
∆∆B C
AllowGet
∆∆C K
)
∆∆K L
;
∆∆L M
}
«« 
else
»» 
{
…… 
return
   
Json
   
(
    
$str
    '
,
  ' (!
JsonRequestBehavior
  ) <
.
  < =
AllowGet
  = E
)
  E F
;
  F G
}
ÀÀ 
}
ÕÕ 
}
œœ 	
[
ÇÇ 	
HttpPost
ÇÇ	 
]
ÇÇ 
public
ÉÉ 

JsonResult
ÉÉ 
CheckMobileNumber
ÉÉ +
(
ÉÉ+ ,
string
ÉÉ, 2
MobileNumber
ÉÉ3 ?
=
ÉÉ@ A
$str
ÉÉB D
)
ÉÉD E
{
ÑÑ 	
var
ÜÜ 
result
ÜÜ 
=
ÜÜ  
ObjICommonServices
ÜÜ +
.
ÜÜ+ ,'
CheckExistingMobileNumber
ÜÜ, E
(
ÜÜE F
MobileNumber
ÜÜF R
)
ÜÜR S
;
ÜÜS T
if
áá 
(
áá 
result
áá 
)
áá 
{
àà 
return
ää 
Json
ää 
(
ää 
result
ää "
,
ää" #!
JsonRequestBehavior
ää$ 7
.
ää7 8
AllowGet
ää8 @
)
ää@ A
;
ääA B
}
ãã 
else
åå 
{
çç 

ModelState
éé 
.
éé 
AddModelError
éé (
(
éé( )
$str
éé) 2
,
éé2 3
$str
éé4 ?
)
éé? @
;
éé@ A
}
èè 
return
êê 
Json
êê 
(
êê !
JsonRequestBehavior
êê +
.
êê+ ,
AllowGet
êê, 4
)
êê4 5
;
êê5 6
}
ëë 	
[
òò 	
HttpPost
òò	 
]
òò 
public
ôô 

JsonResult
ôô '
CheckMobileNumberForLogin
ôô 3
(
ôô3 4
string
ôô4 :
MobileNumber
ôô; G
=
ôôH I
$str
ôôJ L
)
ôôL M
{
öö 	
var
úú 
result
úú 
=
úú  
ObjICommonServices
úú +
.
úú+ ,'
CheckExistingMobileNumber
úú, E
(
úúE F
MobileNumber
úúF R
)
úúR S
;
úúS T
if
ùù 
(
ùù 
result
ùù 
)
ùù 
{
ûû 
return
†† 
Json
†† 
(
†† 
result
†† "
,
††" #!
JsonRequestBehavior
††$ 7
.
††7 8
AllowGet
††8 @
)
††@ A
;
††A B
}
°° 
else
¢¢ 
{
££ 

ModelState
§§ 
.
§§ 
AddModelError
§§ (
(
§§( )
$str
§§) 2
,
§§2 3
$str
§§4 ?
)
§§? @
;
§§@ A
}
•• 
return
¶¶ 
Json
¶¶ 
(
¶¶ !
JsonRequestBehavior
¶¶ +
.
¶¶+ ,
AllowGet
¶¶, 4
)
¶¶4 5
;
¶¶5 6
}
ßß 	
public
±± 
ActionResult
±± 
LogOut
±± "
(
±±" #
)
±±# $
{
≤≤ 	
Session
≥≥ 
.
≥≥ 
Abandon
≥≥ 
(
≥≥ 
)
≥≥ 
;
≥≥ 
Session
¥¥ 
.
¥¥ 
Clear
¥¥ 
(
¥¥ 
)
¥¥ 
;
¥¥ 
Session
µµ 
.
µµ 
	RemoveAll
µµ 
(
µµ 
)
µµ 
;
µµ  !
FormsAuthentication
∂∂ 
.
∂∂  
SignOut
∂∂  '
(
∂∂' (
)
∂∂( )
;
∂∂) *
if
∑∑ 
(
∑∑ 
LoggedInUser
∑∑ 
==
∑∑ 
null
∑∑  $
)
∑∑$ %
{
∏∏ 
return
∫∫ 
RedirectToAction
∫∫ '
(
∫∫' (
$str
∫∫( /
,
∫∫/ 0
$str
∫∫1 7
)
∫∫7 8
;
∫∫8 9
}
ΩΩ 
else
ææ 
{
øø 
return
¿¿ 
RedirectToAction
¿¿ '
(
¿¿' (
$str
¿¿( /
,
¿¿/ 0
$str
¿¿1 7
)
¿¿7 8
;
¿¿8 9
}
¡¡ 
}
√√ 	
public
   
ActionResult
   
UpdateUserProfile
   -
(
  - .
string
  . 4
type
  5 9
=
  : ;
$str
  < >
)
  > ?
{
ÀÀ 	
try
ÃÃ 
{
ÕÕ 
string
ŒŒ 
mobileNumber
ŒŒ #
=
ŒŒ$ %
LoggedInUser
ŒŒ& 2
.
ŒŒ2 3
MobileNumber
ŒŒ3 ?
;
ŒŒ? @
var
œœ 
getuserInfo
œœ 
=
œœ  !
ObjIUserService
œœ" 1
.
œœ1 2
GetuserInfo
œœ2 =
(
œœ= >
mobileNumber
œœ> J
)
œœJ K
;
œœK L!
UpdateUserViewModel
–– #"
objUserInfoViewModel
––$ 8
=
––9 :
new
––; >!
UpdateUserViewModel
––? R
{
—— 
retailer_name
““ !
=
““" #
getuserInfo
““$ /
.
““/ 0
retailer_name
““0 =
,
““= >
mobile_number
”” !
=
””" #
getuserInfo
””$ /
.
””/ 0
mobile_number
””0 =
,
””= >
email_id
‘‘ 
=
‘‘ 
getuserInfo
‘‘ *
.
‘‘* +
email_id
‘‘+ 3
,
‘‘3 4
address
’’ 
=
’’ 
getuserInfo
’’ )
.
’’) *
address
’’* 1
,
’’1 2
state
÷÷ 
=
÷÷ 
getuserInfo
÷÷ '
.
÷÷' (
state
÷÷( -
,
÷÷- .
district
◊◊ 
=
◊◊ 
getuserInfo
◊◊ *
.
◊◊* +
district
◊◊+ 3
,
◊◊3 4
taluka
ÿÿ 
=
ÿÿ 
getuserInfo
ÿÿ (
.
ÿÿ( )
taluka
ÿÿ) /
,
ÿÿ/ 0
cstn_number
ŸŸ 
=
ŸŸ  !
getuserInfo
ŸŸ" -
.
ŸŸ- .
cstn_number
ŸŸ. 9
,
ŸŸ9 :

vat_number
⁄⁄ 
=
⁄⁄  
getuserInfo
⁄⁄! ,
.
⁄⁄, -

vat_number
⁄⁄- 7
,
⁄⁄7 8

pan_number
€€ 
=
€€  
getuserInfo
€€! ,
.
€€, -

pan_number
€€- 7
,
€€7 8

license_no
‹‹ 
=
‹‹  
getuserInfo
‹‹! ,
.
‹‹, -

license_no
‹‹- 7
,
‹‹7 8
imei_number
›› 
=
››  !
getuserInfo
››" -
.
››- .
imei_number
››. 9
,
››9 :
	EntryDate
ﬁﬁ 
=
ﬁﬁ 
getuserInfo
ﬁﬁ  +
.
ﬁﬁ+ ,
	EntryDate
ﬁﬁ, 5
,
ﬁﬁ5 6
pincode
ﬂﬂ 
=
ﬂﬂ 
getuserInfo
ﬂﬂ )
.
ﬂﬂ) *
pincode
ﬂﬂ* 1
,
ﬂﬂ1 2#
seed_license_validity
‡‡ )
=
‡‡* +
getuserInfo
‡‡, 7
.
‡‡7 8#
seed_license_validity
‡‡8 M
,
‡‡M N

gst_number
·· 
=
··  
getuserInfo
··! ,
.
··, -

gst_number
··- 7
,
··7 8
	firm_name
‚‚ 
=
‚‚ 
getuserInfo
‚‚  +
.
‚‚+ ,
	firm_name
‚‚, 5
,
‚‚5 6
depo
„„ 
=
„„ 
getuserInfo
„„ &
.
„„& '
depo
„„' +
,
„„+ ,
Flag
‰‰ 
=
‰‰ 
getuserInfo
‰‰ &
.
‰‰& '
Flag
‰‰' +
,
‰‰+ ,
town
ÂÂ 
=
ÂÂ 
getuserInfo
ÂÂ &
.
ÂÂ& '
town
ÂÂ' +
,
ÂÂ+ ,
sap_retailer_id
ÊÊ #
=
ÊÊ$ %
getuserInfo
ÊÊ& 1
.
ÊÊ1 2
sap_retailer_id
ÊÊ2 A
,
ÊÊA B
	fcm_token
ÁÁ 
=
ÁÁ 
getuserInfo
ÁÁ  +
.
ÁÁ+ ,
	fcm_token
ÁÁ, 5
,
ÁÁ5 6$
fcm_subscription_topic
ËË *
=
ËË+ ,
getuserInfo
ËË- 8
.
ËË8 9$
fcm_subscription_topic
ËË9 O
,
ËËO P!
bank_account_number
ÈÈ '
=
ÈÈ( )
getuserInfo
ÈÈ* 5
.
ÈÈ5 6!
bank_account_number
ÈÈ6 I
,
ÈÈI J

birth_date
ÍÍ 
=
ÍÍ  
getuserInfo
ÍÍ! ,
.
ÍÍ, -

birth_date
ÍÍ- 7
,
ÍÍ7 8 
retailer_last_name
ÎÎ &
=
ÎÎ' (
getuserInfo
ÎÎ) 4
.
ÎÎ4 5 
retailer_last_name
ÎÎ5 G
,
ÎÎG H
houseNo
ÏÏ 
=
ÏÏ 
getuserInfo
ÏÏ )
.
ÏÏ) *
houseNo
ÏÏ* 1
,
ÏÏ1 2
streetLine1
ÌÌ 
=
ÌÌ  !
getuserInfo
ÌÌ" -
.
ÌÌ- .
streetLine1
ÌÌ. 9
,
ÌÌ9 :
streetLine2
ÓÓ 
=
ÓÓ  !
getuserInfo
ÓÓ" -
.
ÓÓ- .
streetLine2
ÓÓ. 9
,
ÓÓ9 :
user_company
  
=
! "
getuserInfo
# .
.
. /
user_company
/ ;
}
ÛÛ 
;
ÛÛ 
return
ÙÙ 
View
ÙÙ 
(
ÙÙ "
objUserInfoViewModel
ÙÙ 0
)
ÙÙ0 1
;
ÙÙ1 2
}
ıı 
catch
ˆˆ 
(
ˆˆ 
	Exception
ˆˆ 
ex
ˆˆ 
)
ˆˆ  
{
˜˜ 
throw
˘˘ 
ex
˘˘ 
;
˘˘ 
}
˙˙ 
}
˚˚ 	
[
ÉÉ 	
HttpPost
ÉÉ	 
]
ÉÉ 
public
ÑÑ 
ActionResult
ÑÑ 
UpdateUserProfile
ÑÑ -
(
ÑÑ- .!
UpdateUserViewModel
ÑÑ. A$
objUpdateUserViewModel
ÑÑB X
,
ÑÑX Y
string
ÑÑZ `
Type
ÑÑa e
=
ÑÑe f
$str
ÑÑf h
)
ÑÑh i
{
ÖÖ 	
try
ÜÜ 
{
áá 
if
ââ 
(
ââ $
objUpdateUserViewModel
ââ *
!=
ââ+ -
null
ââ. 2
)
ââ2 3
{
ää 
var
ãã 
mobileNumber
ãã $
=
ãã% &
LoggedInUser
ãã' 3
.
ãã3 4
MobileNumber
ãã4 @
;
ãã@ A$
objUpdateUserViewModel
åå *
.
åå* +
mobile_number
åå+ 8
=
åå9 :
mobileNumber
åå; G
;
ååG H
ResultModel
çç 
objResultStatus
çç  /
=
çç0 1
new
çç2 5
ResultModel
çç6 A
(
ççA B
)
ççB C
;
ççC D
var
éé 
objUpdateUser
éé %
=
éé& '
ObjIUserService
éé( 7
.
éé7 8
UpdateUserProfile
éé8 I
(
ééI J$
objUpdateUserViewModel
ééJ `
)
éé` a
;
ééa b
if
èè 
(
èè 
objUpdateUser
èè %
==
èè& (
true
èè) -
)
èè- .
{
êê 
objResultStatus
ìì '
.
ìì' (
Message
ìì( /
=
ìì0 1
Resource
ìì2 :
.
ìì: ;2
$GrowOnline_Message_UserProfileUpdate
ìì; _
;
ìì_ `
}
ïï 
else
ññ 
{
óó 
objResultStatus
ôô '
.
ôô' (
Message
ôô( /
=
ôô0 1
Resource
ôô2 :
.
ôô: ;7
)GrowOnline_Message_ErrorUserProfileUpdate
ôô; d
;
ôôd e
}
öö 
TempData
õõ 
[
õõ 
$str
õõ -
]
õõ- .
=
õõ/ 0
objResultStatus
õõ1 @
.
õõ@ A
Message
õõA H
;
õõH I
if
úú 
(
úú 
Type
úú 
==
úú 
$str
úú  &
)
úú& '
{
ùù 
return
ûû 
RedirectToAction
ûû /
(
ûû/ 0
$str
ûû0 :
,
ûû: ;
$str
ûû< C
,
ûûC D
new
ûûE H
{
ûûI J
id
ûûK M
=
ûûN O
objUpdateUser
ûûP ]
}
ûû^ _
)
ûû_ `
;
ûû` a
}
üü 
else
†† 
{
°° 
return
¢¢ 
RedirectToAction
¢¢ /
(
¢¢/ 0
$str
¢¢0 7
,
¢¢7 8
$str
¢¢9 ?
,
¢¢? @
new
¢¢A D
{
¢¢E F
id
¢¢G I
=
¢¢J K
objUpdateUser
¢¢L Y
}
¢¢Z [
)
¢¢[ \
;
¢¢\ ]
}
££ 
}
ßß 
else
®® 
{
©© 
TempData
™™ 
[
™™ 
$str
™™ )
]
™™) *
=
™™+ ,
Resource
™™- 5
.
™™5 67
)GrowOnline_Message_ErrorUserProfileUpdate
™™6 _
;
™™_ `
return
´´ 
RedirectToAction
´´ +
(
´´+ ,
$str
´´, 3
,
´´3 4
$str
´´5 ;
)
´´; <
;
´´< =
}
¨¨ 
}
∞∞ 
catch
±± 
(
±± 
	Exception
±± 
ex
±± 
)
±±  
{
≤≤ 
throw
¥¥ 
ex
¥¥ 
;
¥¥ 
}
µµ 
}
∏∏ 	
}
∫∫ 
}ΩΩ ﬁ
_E:\P.R.O.J.E.C.T.S\GrowIndigoWebApplication\Project\GrowMandi.Web\Controllers\BaseController.cs
	namespace 	
	GrowMandi
 
. 
Web 
. 
Controllers #
{		 
public

 

class

 
BaseController

 
:

  !

Controller

" ,
{ 
public 
ActionResult 
Index !
(! "
)" #
{ 	
return 
View 
( 
) 
; 
} 	
public 
LoginViewModel 
LoggedInUser *
{ 	
get 
{ 
return 
Session  
!=! #
null$ (
&&) +
Session, 3
[3 4
$str4 B
]B C
!=D F
nullG K
?L M
(N O
LoginViewModelO ]
)] ^
Session^ e
[e f
$strf t
]t u
:v w
nullx |
;| }
}~ 
} 	
} 
} ƒ
aE:\P.R.O.J.E.C.T.S\GrowIndigoWebApplication\Project\GrowMandi.Web\Controllers\CommonController.cs
	namespace		 	
	GrowMandi		
 
.		 
Web		 
.		 
Controllers		 #
{

 
public 

class 
CommonController !
:" #

Controller$ .
{ 
[ 	

Dependency	 
] 
public 
ICommonService 
ObjICommonServices 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
public 
ActionResult 
Index !
(! "
)" #
{ 	
return 
View 
( 
) 
; 
} 	
[!! 	
HttpPost!!	 
]!! 
public"" 

JsonResult"" %
CheckExistingMobileNumber"" 3
(""3 4
string""4 :
mobileNumber""; G
=""H I
$str""J L
)""L M
{## 	
try$$ 
{%% 
var&& 
result&& 
=&& 
ObjICommonServices&& /
.&&/ 0%
CheckExistingMobileNumber&&0 I
(&&I J
mobileNumber&&J V
)&&V W
;&&W X
if'' 
('' 
result'' 
)'' 
{(( 
return)) 
Json)) 
())  
result))  &
,))& '
JsonRequestBehavior))( ;
.)); <
AllowGet))< D
)))D E
;))E F
}** 
else++ 
{,, 

ModelState-- 
.-- 
AddModelError-- ,
(--, -
$str--- 6
,--6 7
$str--8 C
)--C D
;--D E
}.. 
return22 
Json22 
(22 
JsonRequestBehavior22 /
.22/ 0
AllowGet220 8
)228 9
;229 :
}33 
catch44 
(44 
	Exception44 
ex44 
)44  
{55 
throw77 
ex77 
;77 
}88 
}99 	
public?? 
ActionResult?? 
	ErrorPage?? %
(??% &
)??& '
{@@ 	
returnAA 
ViewAA 
(AA 
)AA 
;AA 
}BB 	
}CC 
}DD é
_E:\P.R.O.J.E.C.T.S\GrowIndigoWebApplication\Project\GrowMandi.Web\Controllers\HomeController.cs
	namespace 	
	GrowMandi
 
. 
Web 
. 
Controllers #
{ 
public 

class 
HomeController 
:  !

Controller" ,
{ 
ResponceModel 
objResponse !
=" #
new$ '
ResponceModel( 5
(5 6
)6 7
;7 8
CommonController 
objCommonController ,
=- .
new/ 2
CommonController3 C
(C D
)D E
;E F
CommonFunctions 
objCommonFunctions *
=+ ,
new- 0
CommonFunctions1 @
(@ A
)A B
;B C
[ 	

Dependency	 
] 
public 
IUserServices 
ObjIUserService ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
[ 	

Dependency	 
] 
public 
ICommonService 
ObjICommonServices 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
public** 
ActionResult** 
Index** !
(**! "
)**" #
{++ 	
TempData,, 
[,, 
$str,, 
],, 
=,,  !
null,," &
;,,& '
return-- 
View-- 
(-- 
)-- 
;-- 
}.. 	
public44 
ActionResult44 
About44 !
(44! "
)44" #
{55 	
ViewBag66 
.66 
Message66 
=66 
$str66 B
;66B C
return88 
View88 
(88 
)88 
;88 
}99 	
public?? 
ActionResult?? 
Contact?? #
(??# $
)??$ %
{@@ 	
ViewBagAA 
.AA 
MessageAA 
=AA 
$strAA 2
;AA2 3
returnCC 
ViewCC 
(CC 
)CC 
;CC 
}DD 	
[KK 	
HttpPostKK	 
]KK 
publicLL 
ActionResultLL 
ContactLL #
(LL# $
ContactViewModelLL$ 4
objContactViewModelLL5 H
)LLH I
{MM 	
tryNN 
{OO 
varPP 
addcontactInfoPP "
=PP# $
ObjIUserServicePP% 4
.PP4 5

AddcontactPP5 ?
(PP? @
objContactViewModelPP@ S
)PPS T
;PPT U
TempDataQQ 
[QQ 
$strQQ $
]QQ$ %
=QQ& '
ResourceQQ( 0
.QQ0 1)
GrowOnline_Message_CiontactUsQQ1 N
;QQN O
returnRR 
RedirectToActionRR '
(RR' (
$strRR( /
,RR/ 0
$strRR1 7
)RR7 8
;RR8 9
}SS 
catchTT 
(TT 
	ExceptionTT 
exTT 
)TT  
{UU 
throwWW 
exWW 
;WW 
}XX 
}ZZ 	
public[[ 
ActionResult[[ 
Test[[  
([[  !
)[[! "
{\\ 	
return^^ 
View^^ 
(^^ 
)^^ 
;^^ 
}`` 	
}aa 
}bb µ
gE:\P.R.O.J.E.C.T.S\GrowIndigoWebApplication\Project\GrowMandi.Web\Controllers\LanguageMangController.cs
	namespace		 	
	GrowMandi		
 
.		 
Web		 
.		 
Controllers		 #
{

 
[ 
OutputCache 
( 
NoStore 
= 
true 
,  
Duration! )
=* +
$num, -
,- .
VaryByParam/ :
=; <
$str= C
)C D
]D E
public 

class "
LanguageMangController '
:( )

Controller* 4
{ 
public 
ActionResult 
Index !
(! "
)" #
{ 	
return 
View 
( 
) 
; 
} 	
public 

JsonResult 
ChangeLanguage (
(( )
string) /
lang0 4
)4 5
{ 	
try 
{ 
if 
( 
lang 
!= 
null  
)  !
{ 
Thread 
. 
CurrentThread (
.( )
CurrentCulture) 7
=8 9
CultureInfo: E
.E F!
CreateSpecificCultureF [
([ \
lang\ `
)` a
;a b
Thread   
.   
CurrentThread   (
.  ( )
CurrentUICulture  ) 9
=  : ;
new  < ?
CultureInfo  @ K
(  K L
lang  L P
)  P Q
;  Q R
}"" 

HttpCookie## 
cookie## !
=##" #
new##$ '

HttpCookie##( 2
(##2 3
$str##3 =
)##= >
;##> ?
cookie$$ 
.$$ 
Value$$ 
=$$ 
lang$$ #
;$$# $
Response%% 
.%% 
Cookies%%  
.%%  !
Add%%! $
(%%$ %
cookie%%% +
)%%+ ,
;%%, -
return(( 
Json(( 
((( 
true((  
,((  !
JsonRequestBehavior((" 5
.((5 6
AllowGet((6 >
)((> ?
;((? @
})) 
catch** 
(** 
	Exception** 
ex** 
)**  
{++ 
throw-- 
ex-- 
;-- 
}.. 
}// 	
}00 
}11 ‡T
aE:\P.R.O.J.E.C.T.S\GrowIndigoWebApplication\Project\GrowMandi.Web\Controllers\LayoutController.cs
	namespace 	
	GrowMandi
 
. 
Web 
. 
Controllers #
{ 
public 

class 
LayoutController !
:" #
BaseController$ 2
{ 
[ 	

Dependency	 
] 
public 
ICommonService 
ObjICommonServices 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
[ 	

Dependency	 
] 
public 
IUserServices 
ObjIUserService ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
[ 	

Dependency	 
] 
public 
IProductService 
ObjIProductService 1
{2 3
get4 7
;7 8
set9 <
;< =
}> ?
public## 
ActionResult## 
RegisterView## (
(##( )
)##) *
{$$ 	
try%% 
{&& 
{'' 
TempData(( 
[(( 
$str(( +
]((+ ,
=((- .
null((/ 3
;((3 4
var)) 
getallState)) #
=))$ %
ObjICommonServices))& 8
.))8 9
BindAllState))9 E
())E F
)))F G
;))G H
ViewBag** 
.** 
state** !
=**" #
getallState**$ /
;**/ 0
}++ 
return,, 
PartialView,, "
(,," #
$str,,# L
),,L M
;,,M N
}-- 
catch.. 
(.. 
	Exception.. 
ex.. 
)..  
{// 
throw11 
ex11 
;11 
}22 
}33 	
public99 
ActionResult99 
	LoginView99 %
(99% &
)99& '
{:: 	
try;; 
{<< 
TempData== 
[== 
$str== '
]==' (
===) *
null==+ /
;==/ 0
return>> 
PartialView>> "
(>>" #
$str>># E
)>>E F
;>>F G
}?? 
catch@@ 
(@@ 
	Exception@@ 
ex@@ 
)@@  
{AA 
throwCC 
exCC 
;CC 
}DD 
}EE 	
publicMM 
ActionResultMM 
TermsMM !
(MM! "
stringMM" (
termTypeMM) 1
,MM1 2
stringMM3 9
RoleMM: >
=MM? @
$strMMA C
)MMC D
{NN 	
returnOO 
PartialViewOO 
(OO 
$strOO A
)OOA B
;OOB C
}PP 	
publicXX 
ActionResultXX 
PrivacyPolicyXX )
(XX) *
stringXX* 0
termTypeXX1 9
,XX9 :
stringXX; A
RoleXXB F
=XXG H
$strXXI K
)XXK L
{YY 	
returnZZ 
PartialViewZZ 
(ZZ 
$strZZ E
)ZZE F
;ZZF G
}[[ 	
publicbb 
ActionResultbb 
GetAddressForUserbb -
(bb- .
stringbb. 4
MobileNumberbb5 A
=bbB C
$strbbD F
)bbG H
{cc 	
trydd 
{ee 
varff 

getAddressff 
=ff  
ObjICommonServicesff! 3
.ff3 4
GetAddressForUserff4 E
(ffE F
MobileNumberffF R
)ffR S
;ffS T
returngg 
PartialViewgg "
(gg" #
$strgg# J
,ggJ K

getAddressggL V
)ggV W
;ggW X
}hh 
catchii 
(ii 
	Exceptionii 
exii 
)ii  
{jj 
throwll 
exll 
;ll 
}mm 
}nn 	
publictt 
ActionResulttt  
AddNewAddressForUsertt 0
(tt0 1
)tt1 2
{uu 	
tryvv 
{ww 
returnxx 
PartialViewxx "
(xx" #
$strxx# M
)xxM N
;xxN O
}yy 
catchzz 
(zz 
	Exceptionzz 
exzz 
)zz  
{{{ 
throw}} 
ex}} 
;}} 
}~~ 
} 	
public
ÖÖ 
ActionResult
ÖÖ 
GetCartDetails
ÖÖ *
(
ÖÖ* +
)
ÖÖ+ ,
{
ÜÜ 	
try
àà 
{
ââ 
string
ää 
mobileNumber
ää #
=
ää$ %
LoggedInUser
ää& 2
.
ää2 3
MobileNumber
ää3 ?
;
ää? @
var
ãã 
getCartDetails
ãã "
=
ãã# $ 
ObjICommonServices
ãã% 7
.
ãã7 8
GetCartDetails
ãã8 F
(
ããF G
mobileNumber
ããG S
)
ããS T
;
ããT U
double
åå 
Totalsum
åå 
=
åå  !
$num
åå" #
;
åå# $
foreach
çç 
(
çç 
var
çç 
sum
çç  
in
çç! #
getCartDetails
çç$ 2
)
çç2 3
{
éé 
double
èè 

Totalprice
èè %
=
èè& '
Convert
èè( /
.
èè/ 0
ToDouble
èè0 8
(
èè8 9
sum
èè9 <
.
èè< =
Price
èè= B
)
èèB C
;
èèC D
Totalsum
ëë 
+=
ëë 

Totalprice
ëë  *
;
ëë* +
}
ìì 
var
ïï #
getUserDetailByMobile
ïï )
=
ïï* +
ObjIUserService
ïï, ;
.
ïï; <
GetuserInfo
ïï< G
(
ïïG H
mobileNumber
ïïH T
)
ïïT U
;
ïïU V
ViewBag
ôô 
.
ôô 
TotalPricePartial
ôô )
=
ôô* +
Totalsum
ôô, 4
;
ôô4 5
ViewBag
öö 
.
öö 

TotalPrice
öö "
=
öö# $
Totalsum
öö% -
+
öö. /
$num
öö0 2
;
öö2 3
return
ùù 
PartialView
ùù "
(
ùù" #
$str
ùù# N
,
ùùN O
getCartDetails
ùùP ^
)
ùù^ _
;
ùù_ `
}
ûû 
catch
üü 
(
üü 
	Exception
üü 
ex
üü 
)
üü  
{
†† 
throw
¢¢ 
ex
¢¢ 
;
¢¢ 
}
££ 
}
§§ 	
public
¨¨ 
ActionResult
¨¨ 
ProductInCartInfo
¨¨ -
(
¨¨- .
)
¨¨. /
{
≠≠ 	
try
ÆÆ 
{
ØØ 
string
∞∞ 
mobileNumber
∞∞ #
=
∞∞$ %
LoggedInUser
∞∞& 2
.
∞∞2 3
MobileNumber
∞∞3 ?
;
∞∞? @
var
±± 
getCartDetails
±± "
=
±±# $ 
ObjICommonServices
±±% 7
.
±±7 8
GetCartDetails
±±8 F
(
±±F G
mobileNumber
±±G S
)
±±S T
;
±±T U
double
≤≤ 
Totalsum
≤≤ 
=
≤≤  !
$num
≤≤" #
;
≤≤# $
foreach
≥≥ 
(
≥≥ 
var
≥≥ 
sum
≥≥  
in
≥≥! #
getCartDetails
≥≥$ 2
)
≥≥2 3
{
¥¥ 
double
µµ 

Totalprice
µµ %
=
µµ& '
Convert
µµ( /
.
µµ/ 0
ToDouble
µµ0 8
(
µµ8 9
sum
µµ9 <
.
µµ< =
Price
µµ= B
)
µµB C
;
µµC D
Totalsum
∑∑ 
+=
∑∑ 

Totalprice
∑∑  *
;
∑∑* +
}
ππ 
ViewBag
∫∫ 
.
∫∫ 
TotalPricePartial
∫∫ )
=
∫∫* +
Totalsum
∫∫, 4
;
∫∫4 5
return
ªª 
PartialView
ªª "
(
ªª" #
$str
ªª# K
,
ªªK L
getCartDetails
ªªM [
)
ªª[ \
;
ªª\ ]
}
ºº 
catch
ΩΩ 
(
ΩΩ 
	Exception
ΩΩ 
ex
ΩΩ 
)
ΩΩ  
{
ææ 
throw
¿¿ 
ex
¿¿ 
;
¿¿ 
}
¡¡ 
}
¬¬ 	
public
ƒƒ 
ActionResult
ƒƒ 
GetCompanyProduct
ƒƒ -
(
ƒƒ- .
)
ƒƒ. /
{
≈≈ 	
var
∆∆ 
getCompanyProduct
∆∆ !
=
∆∆" # 
ObjICommonServices
∆∆$ 6
.
∆∆6 7
GetCompanyProduct
∆∆7 H
(
∆∆H I
)
∆∆I J
;
∆∆J K
return
«« 
PartialView
«« 
(
«« 
$str
«« Q
,
««Q R
getCompanyProduct
««S d
)
««d e
;
««e f
}
»» 	
public
   
ActionResult
    
ManufactureDetails
   .
(
  . /
)
  / 0
{
ÀÀ 	
var
ÃÃ 
getManuDetails
ÃÃ 
=
ÃÃ   
ObjICommonServices
ÃÃ! 3
.
ÃÃ3 4
GetCompanyProduct
ÃÃ4 E
(
ÃÃE F
)
ÃÃF G
;
ÃÃG H
return
ÕÕ 
PartialView
ÕÕ 
(
ÕÕ 
$str
ÕÕ P
,
ÕÕP Q
getManuDetails
ÕÕR `
)
ÕÕ` a
;
ÕÕa b
}
ŒŒ 	
public
–– 
ActionResult
–– 
	SearchBox
–– %
(
––% &
)
––& '
{
—— 	
return
““ 
PartialView
““ 
(
““ 
$str
““ K
)
““K L
;
““L M
}
”” 	
public
’’ 
ActionResult
’’ 
GetStateList
’’ (
(
’’( )
)
’’) *
{
÷÷ 	
List
ŸŸ 
<
ŸŸ 
Shop_State_Master
ŸŸ "
>
ŸŸ" #
	stateList
ŸŸ$ -
=
ŸŸ. /
new
ŸŸ0 3
List
ŸŸ4 8
<
ŸŸ8 9
Shop_State_Master
ŸŸ9 J
>
ŸŸJ K
{
ŸŸL M
new
ŸŸN Q
Shop_State_Master
ŸŸR c
{
ŸŸd e

state_code
ŸŸf p
=
ŸŸq r
$num
ŸŸs t
,
ŸŸt u

state_discŸŸv Ä
=ŸŸÅ Ç
$strŸŸÉ ô
}ŸŸö õ
}ŸŸú ù
;ŸŸù û
	stateList
⁄⁄ 
.
⁄⁄ 
AddRange
⁄⁄ 
(
⁄⁄  
ObjICommonServices
⁄⁄ 1
.
⁄⁄1 2$
GetAllStatewithProduct
⁄⁄2 H
(
⁄⁄H I
)
⁄⁄I J
)
⁄⁄J K
;
⁄⁄K L
ViewBag
‹‹ 
.
‹‹ 
	AllStates
‹‹ 
=
‹‹ 
new
‹‹  #

SelectList
‹‹$ .
(
‹‹. /
	stateList
‹‹/ 8
,
‹‹8 9
$str
‹‹: F
,
‹‹F G
$str
‹‹H T
)
‹‹T U
;
‹‹U V
return
ﬂﬂ 
PartialView
ﬂﬂ 
(
ﬂﬂ 
$str
ﬂﬂ A
)
ﬂﬂA B
;
ﬂﬂB C
}
‡‡ 	
}
‚‚ 
}„„ ¡æ
`E:\P.R.O.J.E.C.T.S\GrowIndigoWebApplication\Project\GrowMandi.Web\Controllers\OrderController.cs
	namespace 	
	GrowMandi
 
. 
Web 
. 
Controllers #
{ 
public 

class 
OrderController  
:! "
BaseController# 1
{ 
ResponceModel 
objResponse !
=" #
new$ '
ResponceModel( 5
(5 6
)6 7
;7 8
CommonController 
objCommonController ,
=- .
new/ 2
CommonController3 C
(C D
)D E
;E F
CommonFunctions 
objCommonFunctions *
=+ ,
new- 0
CommonFunctions1 @
(@ A
)A B
;B C
[ 	

Dependency	 
] 
public   
IUserServices   
ObjIUserService   ,
{  - .
get  / 2
;  2 3
set  4 7
;  7 8
}  9 :
[## 	

Dependency##	 
]## 
public$$ 
ICommonService$$ 
ObjICommonServices$$ 0
{$$1 2
get$$3 6
;$$6 7
set$$8 ;
;$$; <
}$$= >
[&& 	

Dependency&&	 
]&& 
public'' 
IProductService'' 
ObjIProductService'' 1
{''2 3
get''4 7
;''7 8
set''9 <
;''< =
}''> ?
[)) 	

Dependency))	 
])) 
public** 
IOrderService** 
ObjIOrderService** -
{**. /
get**0 3
;**3 4
set**5 8
;**8 9
}**: ;
public00 
ActionResult00 
Index00 !
(00! "
)00" #
{11 	
return22 
View22 
(22 
)22 
;22 
}33 	
public99 
ActionResult99 
CartInfo99 $
(99$ %
)99% &
{:: 	
try;; 
{<< 
string== 
MobileNumber== #
===$ %
LoggedInUser==& 2
.==2 3
MobileNumber==3 ?
;==? @
var>> 
checkProfileUpdated>> '
=>>( )
ObjIUserService>>* 9
.>>9 :#
CheckUserProfileUpdated>>: Q
(>>Q R
MobileNumber>>R ^
)>>^ _
;>>_ `
if?? 
(?? 
checkProfileUpdated?? '
)??' (
{@@ 
varAA (
getCartDetailForMobileNumberAA 4
=AA5 6
ObjIUserServiceAA7 F
.AAF G'
GetCartDetailByMobileNumberAAG b
(AAb c
MobileNumberAAc o
)AAo p
;AAp q
doubleBB 
TotalsumBB #
=BB$ %
$numBB& '
;BB' (
foreachCC 
(CC 
varCC  
sumCC! $
inCC% '(
getCartDetailForMobileNumberCC( D
)CCD E
{DD 
doubleEE 

TotalpriceEE )
=EE* +
ConvertEE, 3
.EE3 4
ToDoubleEE4 <
(EE< =
sumEE= @
.EE@ A
PriceEEA F
)EEF G
;EEG H
TotalsumGG  
+=GG! #

TotalpriceGG$ .
;GG. /
}II 
ViewBagJJ 
.JJ 

TotalPriceJJ &
=JJ' (
TotalsumJJ) 1
;JJ1 2
ViewBagKK 
.KK 
TotalServicePriceKK -
=KK. /
TotalsumKK0 8
+KK9 :
$numKK; =
;KK= >
returnLL 
ViewLL 
(LL  (
getCartDetailForMobileNumberLL  <
)LL< =
;LL= >
}MM 
elseNN 
{OO 
TempDataPP 
[PP 
$strPP ,
]PP, -
=PP. /
ResourcePP0 8
.PP8 90
$GrowOnline_Message_UpdateCartProfilePP9 ]
;PP] ^
returnQQ 
RedirectToActionQQ +
(QQ+ ,
$strQQ, ?
,QQ? @
$strQQA J
,QQJ K
newQQL O
{QQP Q
typeQQR V
=QQW X
$strQQY _
}QQ` a
)QQa b
;QQb c
}RR 
}SS 
catchTT 
(TT 
	ExceptionTT 
exTT 
)TT  
{UU 
throwWW 
exWW 
;WW 
}XX 
}ZZ 	
publicaa 
ActionResultaa 
PaymentMethodaa )
(aa) *
stringaa* 0
	addressIdaa1 :
=aa; <
$straa= ?
)aa? @
{bb 	
trydd 
{ee 
stringff 
mobileNumberff #
=ff$ %
LoggedInUserff& 2
.ff2 3
MobileNumberff3 ?
;ff? @
varhh 
getCartDetailshh "
=hh# $
ObjICommonServiceshh% 7
.hh7 8
GetCartDetailshh8 F
(hhF G
mobileNumberhhG S
)hhS T
;hhT U
doubleii 
Totalsumii 
=ii  !
$numii" #
;ii# $
foreachjj 
(jj 
varjj 
sumjj  
injj! #
getCartDetailsjj$ 2
)jj2 3
{kk 
doublell 

Totalpricell %
=ll& '
Convertll( /
.ll/ 0
ToDoublell0 8
(ll8 9
sumll9 <
.ll< =
Pricell= B
)llB C
;llC D
Totalsumnn 
+=nn 

Totalpricenn  *
;nn* +
}pp 
ViewBagqq 
.qq 

TotalPriceqq "
=qq# $
Totalsumqq% -
+qq. /
$numqq0 2
;qq2 3
doubless 
ttlPricess 
=ss  !
ViewBagss" )
.ss) *

TotalPricess* 4
;ss4 5
vartt 
AddOrdertt 
=tt 
ObjIUserServicett .
.tt. /
AddOrderDetailstt/ >
(tt> ?
mobileNumbertt? K
,ttK L
ttlPricettM U
,ttU V
	addressIdttW `
)tt` a
;tta b
{uu 
varvv !
getUserDetailByMobilevv -
=vv. /
ObjIUserServicevv0 ?
.vv? @
GetuserInfovv@ K
(vvK L
mobileNumbervvL X
)vvX Y
;vvY Z
ViewBagww 
.ww 
UserNameww $
=ww% &!
getUserDetailByMobileww' <
.ww< =
retailer_nameww= J
==wwK M
nullwwN R
?wwS T
$strwwU Z
:ww[ \!
getUserDetailByMobileww] r
.wwr s
retailer_name	wws Ä
;
wwÄ Å
ViewBagxx 
.xx 
Emailxx !
=xx" #!
getUserDetailByMobilexx$ 9
.xx9 :
email_idxx: B
==xxC E
nullxxF J
?xxK L
$strxxM R
:xxS T!
getUserDetailByMobilexxU j
.xxj k
email_idxxk s
;xxs t
ViewBagyy 
.yy 
MobileNumberyy (
=yy) *!
getUserDetailByMobileyy+ @
.yy@ A
mobile_numberyyA N
;yyN O
ViewBagzz 
.zz 
TotalPricePartialzz -
=zz. /
Totalsumzz0 8
;zz8 9
ViewBag{{ 
.{{ 

TotalPrice{{ &
={{' (
Totalsum{{) 1
+{{2 3
$num{{4 6
;{{6 7
double~~ 
amount~~ !
=~~" #
(~~$ %
ViewBag~~% ,
.~~, -

TotalPrice~~- 7
)~~7 8
*~~9 :
$num~~; >
;~~> ?
string
ÑÑ 
orderID
ÑÑ "
=
ÑÑ# $ 
GetRazorPayOrderID
ÑÑ% 7
(
ÑÑ7 8
amount
ÑÑ8 >
)
ÑÑ> ?
;
ÑÑ? @
ViewBag
áá 
.
áá 
OrderID
áá #
=
áá$ %
orderID
áá& -
;
áá- .
ViewBag
àà 
.
àà 
ServerOrderID
àà )
=
àà* +
AddOrder
àà, 4
;
àà4 5
return
ââ 
View
ââ 
(
ââ  
)
ââ  !
;
ââ! "
}
åå 
}
çç 
catch
éé 
(
éé 
	Exception
éé 
ex
éé 
)
éé  
{
èè 
throw
ëë 
ex
ëë 
;
ëë 
}
íí 
}
ïï 	
public
úú 
string
úú  
GetRazorPayOrderID
úú (
(
úú( )
double
úú) /
amount
úú0 6
=
úú7 8
$num
úú9 :
)
úú: ;
{
ùù 	
try
ûû 
{
üü 
string
†† 
stringAmount
†† #
=
††$ %
amount
††& ,
.
††, -
ToString
††- 5
(
††5 6
)
††6 7
;
††7 8

Dictionary
¢¢ 
<
¢¢ 
string
¢¢ !
,
¢¢! "
object
¢¢# )
>
¢¢) *
input
¢¢+ 0
=
¢¢1 2
new
¢¢3 6

Dictionary
¢¢7 A
<
¢¢A B
string
¢¢B H
,
¢¢H I
object
¢¢J P
>
¢¢P Q
(
¢¢Q R
)
¢¢R S
;
¢¢S T
input
££ 
.
££ 
Add
££ 
(
££ 
$str
££ "
,
££" #
stringAmount
££$ 0
)
££0 1
;
££1 2
input
§§ 
.
§§ 
Add
§§ 
(
§§ 
$str
§§ $
,
§§$ %
$str
§§& +
)
§§+ ,
;
§§, -
input
•• 
.
•• 
Add
•• 
(
•• 
$str
•• #
,
••# $
$str
••% .
)
••. /
;
••/ 0
input
¶¶ 
.
¶¶ 
Add
¶¶ 
(
¶¶ 
$str
¶¶ +
,
¶¶+ ,
$num
¶¶- .
)
¶¶. /
;
¶¶/ 0
string
®® 
key
®® 
=
®® 
$str
®® 6
;
®®6 7
string
©© 
secret
©© 
=
©© 
$str
©©  :
;
©©: ;
RazorpayClient
´´ 
client
´´ %
=
´´& '
new
´´( +
RazorpayClient
´´, :
(
´´: ;
key
´´; >
,
´´> ?
secret
´´@ F
)
´´F G
;
´´G H
Razorpay
≠≠ 
.
≠≠ 
Api
≠≠ 
.
≠≠ 
Order
≠≠ "
order
≠≠# (
=
≠≠) *
client
≠≠+ 1
.
≠≠1 2
Order
≠≠2 7
.
≠≠7 8
Create
≠≠8 >
(
≠≠> ?
input
≠≠? D
)
≠≠D E
;
≠≠E F
var
ØØ 
orderId
ØØ 
=
ØØ 
order
ØØ #
[
ØØ# $
$str
ØØ$ (
]
ØØ( )
.
ØØ) *
ToString
ØØ* 2
(
ØØ2 3
)
ØØ3 4
;
ØØ4 5
return
∞∞ 
orderId
∞∞ 
;
∞∞ 
}
±± 
catch
≤≤ 
(
≤≤ 
	Exception
≤≤ 
ex
≤≤ 
)
≤≤  
{
≥≥ 
throw
µµ 
ex
µµ 
;
µµ 
}
∂∂ 
}
∏∏ 	
public
øø 
ActionResult
øø 
CheckOut
øø $
(
øø$ %
string
øø% +

totalPrice
øø, 6
=
øø7 8
$str
øø9 ;
)
øø; <
{
¿¿ 	
try
¡¡ 
{
¬¬ 
string
√√ 
mobleNumber
√√ "
=
√√# $
LoggedInUser
√√% 1
.
√√1 2
MobileNumber
√√2 >
;
√√> ?
string
≈≈ 
MobileNumber
≈≈ #
=
≈≈$ %
LoggedInUser
≈≈& 2
.
≈≈2 3
MobileNumber
≈≈3 ?
;
≈≈? @
var
∆∆ !
checkProfileUpdated
∆∆ '
=
∆∆( )
ObjIUserService
∆∆* 9
.
∆∆9 :%
CheckUserProfileUpdated
∆∆: Q
(
∆∆Q R
MobileNumber
∆∆R ^
)
∆∆^ _
;
∆∆_ `
if
«« 
(
«« !
checkProfileUpdated
«« '
)
««' (
{
»» 
return
…… 
View
…… 
(
……  
)
……  !
;
……! "
}
   
else
ÀÀ 
{
ÃÃ 
TempData
ÕÕ 
[
ÕÕ 
$str
ÕÕ ,
]
ÕÕ, -
=
ÕÕ. /
Resource
ÕÕ0 8
.
ÕÕ8 92
$GrowOnline_Message_UpdateCartProfile
ÕÕ9 ]
;
ÕÕ] ^
return
ŒŒ 
RedirectToAction
ŒŒ +
(
ŒŒ+ ,
$str
ŒŒ, ?
,
ŒŒ? @
$str
ŒŒA J
,
ŒŒJ K
new
ŒŒL O
{
ŒŒP Q
type
ŒŒR V
=
ŒŒW X
$str
ŒŒY _
}
ŒŒ` a
)
ŒŒa b
;
ŒŒb c
}
œœ 
}
–– 
catch
—— 
(
—— 
	Exception
—— 
ex
—— 
)
——  
{
““ 
throw
‘‘ 
ex
‘‘ 
;
‘‘ 
}
’’ 
}
÷÷ 	
public
›› 

JsonResult
›› 
DeleteCartProduct
›› +
(
››+ ,
long
››, 0
cartId
››1 7
=
››8 9
$num
››: ;
)
››; <
{
ﬁﬁ 	
try
ﬂﬂ 
{
‡‡ 
var
·· 
deleteCartProduct
·· %
=
··& '
ObjIUserService
··( 7
.
··7 8
DeleteCartProduct
··8 I
(
··I J
cartId
··J P
)
··P Q
;
··Q R
if
‚‚ 
(
‚‚ 
deleteCartProduct
‚‚ %
)
‚‚% &
{
„„ 
return
‰‰ 
Json
‰‰ 
(
‰‰  
$str
‰‰  &
,
‰‰& '!
JsonRequestBehavior
‰‰( ;
.
‰‰; <
AllowGet
‰‰< D
)
‰‰D E
;
‰‰E F
}
ÂÂ 
else
ÊÊ 
{
ÁÁ 
return
ËË 
Json
ËË 
(
ËË  
$str
ËË  '
,
ËË' (!
JsonRequestBehavior
ËË) <
.
ËË< =
AllowGet
ËË= E
)
ËËE F
;
ËËF G
}
ÈÈ 
}
ÍÍ 
catch
ÎÎ 
(
ÎÎ 
	Exception
ÎÎ 
ex
ÎÎ 
)
ÎÎ  
{
ÏÏ 
throw
ÓÓ 
ex
ÓÓ 
;
ÓÓ 
}
ÔÔ 
}
 	
[
˜˜ 	
HttpPost
˜˜	 
]
˜˜ 
public
¯¯ 

JsonResult
¯¯ "
AddCartDetailForUser
¯¯ .
(
¯¯. /
string
¯¯/ 5
	productId
¯¯6 ?
=
¯¯@ A
$str
¯¯B D
)
¯¯D E
{
˘˘ 	
try
˚˚ 
{
¸¸ 
var
˝˝ "
getProductDetailbyId
˝˝ (
=
˝˝) * 
ObjIProductService
˝˝+ =
.
˝˝= >
GetProductDetail
˝˝> N
(
˝˝N O
	productId
˝˝O X
)
˝˝X Y
;
˝˝Y Z
string
ˇˇ 
mobilenumber
ˇˇ #
=
ˇˇ$ %
LoggedInUser
ˇˇ& 2
.
ˇˇ2 3
MobileNumber
ˇˇ3 ?
;
ˇˇ? @
var
ÅÅ 
checkCartProduct
ÅÅ $
=
ÅÅ% & 
ObjIProductService
ÅÅ' 9
.
ÅÅ9 :
CheckCartProduct
ÅÅ: J
(
ÅÅJ K
	productId
ÅÅK T
)
ÅÅT U
;
ÅÅU V
if
ÇÇ 
(
ÇÇ 
checkCartProduct
ÇÇ $
)
ÇÇ$ %
{
ÉÉ 
TempData
ÑÑ 
[
ÑÑ 
$str
ÑÑ 0
]
ÑÑ0 1
=
ÑÑ2 3
Resource
ÑÑ4 <
.
ÑÑ< =-
GrowOnline_Message_ProductAdded
ÑÑ= \
;
ÑÑ\ ]
return
ÖÖ 
Json
ÖÖ 
(
ÖÖ  
$str
ÖÖ  .
,
ÖÖ. /!
JsonRequestBehavior
ÖÖ0 C
.
ÖÖC D
AllowGet
ÖÖD L
)
ÖÖL M
;
ÖÖM N
}
áá 
else
àà 
{
ââ 
TempData
ää 
[
ää 
$str
ää $
]
ää$ %
=
ää& '
Resource
ää( 0
.
ää0 1,
GrowOnline_Message_ProducAdded
ää1 O
;
ääO P
var
ãã 
addOrderDetails
ãã '
=
ãã( ) 
ObjIProductService
ãã* <
.
ãã< =
AddOrderDetails
ãã= L
(
ããL M"
getProductDetailbyId
ããM a
,
ããa b
mobilenumber
ããc o
)
ãão p
;
ããp q
return
åå 
Json
åå 
(
åå  
$str
åå  &
,
åå& '!
JsonRequestBehavior
åå( ;
.
åå; <
AllowGet
åå< D
)
ååD E
;
ååE F
}
éé 
}
èè 
catch
êê 
(
êê 
	Exception
êê 
ex
êê 
)
êê  
{
ëë 
throw
ìì 
ex
ìì 
;
ìì 
}
îî 
}
òò 	
public
üü 
ActionResult
üü 
PaymentStatus
üü )
(
üü) *
int
üü* -
OrderId
üü. 5
=
üü6 7
$num
üü8 9
)
üü9 :
{
†† 	
try
°° 
{
¢¢ 
string
££ 
ROrderiD
££ 
=
££  !
Request
££" )
.
££) *
Form
££* .
[
££. /
$str
££/ B
]
££B C
;
££C D
string
§§ 

RPaymentId
§§ !
=
§§" #
Request
§§$ +
.
§§+ ,
Form
§§, 0
[
§§0 1
$str
§§1 F
]
§§F G
;
§§G H
string
•• 

RSignature
•• !
=
••" #
Request
••$ +
.
••+ ,
Form
••, 0
[
••0 1
$str
••1 E
]
••E F
;
••F G
string
¶¶ 
Status
¶¶ 
=
¶¶ 
Request
¶¶  '
.
¶¶' (
Form
¶¶( ,
[
¶¶, -
$str
¶¶- 5
]
¶¶5 6
;
¶¶6 7
string
ßß 
Status1
ßß 
=
ßß  
Request
ßß! (
.
ßß( )
Form
ßß) -
[
ßß- .
$str
ßß. ?
]
ßß? @
;
ßß@ A
string
®® 
Status2
®® 
=
®®  
Request
®®! (
.
®®( )
Form
®®) -
[
®®- .
$str
®®. ?
]
®®? @
;
®®@ A
RazorpayClient
´´ 
client
´´ %
=
´´& '
new
´´( +
RazorpayClient
´´, :
(
´´: ;
$str
´´; T
,
´´T U
$str
´´V p
)
´´p q
;
´´q r
Payment
¨¨ 
payment
¨¨ 
=
¨¨  !
client
¨¨" (
.
¨¨( )
Payment
¨¨) 0
.
¨¨0 1
Fetch
¨¨1 6
(
¨¨6 7

RPaymentId
¨¨7 A
)
¨¨A B
;
¨¨B C
OrderViewModel
ØØ 
objOrderViewModel
ØØ 0
=
ØØ1 2
new
ØØ3 6
OrderViewModel
ØØ7 E
(
ØØE F
)
ØØF G
;
ØØG H
objOrderViewModel
∞∞ !
.
∞∞! "
Order_Id
∞∞" *
=
∞∞+ ,
OrderId
∞∞- 4
;
∞∞4 5
objOrderViewModel
±± !
.
±±! "
rzp_order_id
±±" .
=
±±/ 0
ROrderiD
±±1 9
;
±±9 :
objOrderViewModel
≤≤ !
.
≤≤! "
rzp_payment_id
≤≤" 0
=
≤≤1 2

RPaymentId
≤≤3 =
;
≤≤= >
objOrderViewModel
≥≥ !
.
≥≥! "
rzp_signature
≥≥" /
=
≥≥0 1

RSignature
≥≥2 <
;
≥≥< =
objOrderViewModel
¥¥ !
.
¥¥! "
order_status
¥¥" .
=
¥¥/ 0
$str
¥¥1 <
;
¥¥< =
objOrderViewModel
µµ !
.
µµ! " 
rzp_payment_status
µµ" 4
=
µµ5 6
Status
µµ7 =
;
µµ= >
var
ππ 
result
ππ 
=
ππ 
ObjIUserService
ππ ,
.
ππ, - 
UpdateOrderDeatils
ππ- ?
(
ππ? @
objOrderViewModel
ππ@ Q
)
ππQ R
;
ππR S
var
ªª 
getUserdetail
ªª !
=
ªª" #
ObjIUserService
ªª$ 3
.
ªª3 4%
GetOrderDetailByOrderId
ªª4 K
(
ªªK L
OrderId
ªªL S
)
ªªS T
;
ªªT U
if
ºº 
(
ºº 
getUserdetail
ºº !
!=
ºº" $
null
ºº% )
)
ºº) *
{
ΩΩ 
var
ææ 
	deletCart
ææ !
=
ææ" #$
DeleteCartAfterPayment
ææ$ :
(
ææ: ;
)
ææ; <
;
ææ< =
ViewBag
¿¿ 
.
¿¿ 

TotalPrice
¿¿ &
=
¿¿' (
getUserdetail
¿¿) 6
.
¿¿6 7

Totalprice
¿¿7 A
;
¿¿A B
return
¬¬ 
View
¬¬ 
(
¬¬  
)
¬¬  !
;
¬¬! "
}
√√ 
else
ƒƒ 
{
≈≈ 
ViewBag
∆∆ 
.
∆∆ 
Status
∆∆ "
=
∆∆# $
$str
∆∆% .
;
∆∆. /
return
»» 
View
»» 
(
»»  
)
»»  !
;
»»! "
}
…… 
}
   
catch
ÀÀ 
(
ÀÀ 
	Exception
ÀÀ 
ex
ÀÀ 
)
ÀÀ  
{
ÃÃ 
throw
ŒŒ 
ex
ŒŒ 
;
ŒŒ 
}
œœ 
}
““ 	
public
ÿÿ 
bool
ÿÿ $
DeleteCartAfterPayment
ÿÿ *
(
ÿÿ* +
)
ÿÿ+ ,
{
ŸŸ 	
try
⁄⁄ 
{
€€ 
string
‹‹ 
mobileNumber
‹‹ #
=
‹‹$ %
LoggedInUser
‹‹& 2
.
‹‹2 3
MobileNumber
‹‹3 ?
;
‹‹? @
var
››  
deleteCartProducts
›› &
=
››' (
ObjIUserService
››) 8
.
››8 9 
DeleteCartProducts
››9 K
(
››K L
mobileNumber
››L X
)
››X Y
;
››Y Z
return
ﬁﬁ  
deleteCartProducts
ﬁﬁ )
;
ﬁﬁ) *
}
ﬂﬂ 
catch
‡‡ 
(
‡‡ 
	Exception
‡‡ 
ex
‡‡ 
)
‡‡  
{
·· 
throw
„„ 
ex
„„ 
;
„„ 
}
‰‰ 
}
ÊÊ 	
public
ÏÏ 
ActionResult
ÏÏ 
OrderHistory
ÏÏ (
(
ÏÏ( )
)
ÏÏ) *
{
ÌÌ 	
try
ÓÓ 
{
ÔÔ 
string
 
mobileNumber
 #
=
$ %
LoggedInUser
& 2
.
2 3
MobileNumber
3 ?
;
? @
return
ÛÛ 
View
ÛÛ 
(
ÛÛ 
)
ÛÛ 
;
ÛÛ 
}
ÙÙ 
catch
ıı 
(
ıı 
	Exception
ıı 
ex
ıı 
)
ıı  
{
ˆˆ 
throw
¯¯ 
ex
¯¯ 
;
¯¯ 
}
˘˘ 
}
˚˚ 	
[
ÇÇ 	
AcceptVerbs
ÇÇ	 
(
ÇÇ 
new
ÇÇ 
string
ÇÇ 
[
ÇÇ  
]
ÇÇ  !
{
ÇÇ" #
$str
ÇÇ$ )
,
ÇÇ) *
$str
ÇÇ+ 1
}
ÇÇ2 3
)
ÇÇ3 4
]
ÇÇ4 5
[
ÉÉ 	
HttpPost
ÉÉ	 
]
ÉÉ 
public
ÑÑ 
async
ÑÑ 
Task
ÑÑ 
<
ÑÑ 

JsonResult
ÑÑ $
>
ÑÑ$ %
GetOrderList
ÑÑ& 2
(
ÑÑ2 3
DTParameterModel
ÑÑ3 C
criteria
ÑÑD L
,
ÑÑL M
string
ÑÑN T
mobileNumber
ÑÑU a
=
ÑÑa b
$str
ÑÑb d
)
ÑÑd e
{
ÖÖ 	
try
ÜÜ 
{
áá 
string
àà 
	mobileNum
àà  
=
àà! "
LoggedInUser
àà# /
.
àà/ 0
MobileNumber
àà0 <
;
àà< =
var
ââ 
list
ââ 
=
ââ 
ObjIUserService
ââ *
.
ââ* +
GetOrderList
ââ+ 7
(
ââ7 8
criteria
ââ8 @
,
ââ@ A
	mobileNum
ââB K
)
ââK L
;
ââL M
return
ãã 
Json
ãã 
(
ãã 
new
ãã 
{
ãã  !
list
ãã" &
.
ãã& '
Result
ãã' -
.
ãã- .
sEcho
ãã. 3
,
ãã3 4
recordsFiltered
ãã5 D
=
ããE F
list
ããG K
.
ããK L
Result
ããL R
.
ããR S
recordsTotal
ããS _
,
ãã_ `
list
ããa e
.
ããe f
Result
ããf l
.
ããl m
recordsTotal
ããm y
,
ããy z
list
ãã{ 
.ãã Ä
ResultããÄ Ü
.ããÜ á
dataããá ã
}ããå ç
)ããç é
;ããé è
}
çç 
catch
éé 
(
éé 
	Exception
éé 
ex
éé 
)
éé  
{
èè 
throw
ëë 
ex
ëë 
;
ëë 
}
íí 
}
ìì 	
}
óó 
}òò ú‘
hE:\P.R.O.J.E.C.T.S\GrowIndigoWebApplication\Project\GrowMandi.Web\Controllers\ProductMasterController.cs
	namespace 	
	GrowMandi
 
. 
Web 
. 
Controllers #
{ 
public 

class #
ProductMasterController (
:) *
BaseController+ 9
{ 
[ 	

Dependency	 
] 
public 
IProductService 
ObjIProductService 1
{2 3
get4 7
;7 8
set9 <
;< =
}> ?
[ 	

Dependency	 
] 
public 
IUserServices 
ObjIUserService ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
ActionResult 
Index !
(! "
)" #
{ 	
return 
View 
( 
) 
; 
} 	
public 
ActionResult !
GetProductsbyCategory 1
(1 2
string2 8
CategoryName9 E
=F G
$strH J
,J K
stringL R
CompanyNameS ^
=^ _
$str_ a
,a b
stringc i
ProductNamej u
=u v
$strv x
,x y
string	z Ä
	stateName
Å ä
=
ä ã
$str
ã ç
)
ç é
{   	
var"" 
getAllProducts"" 
=""  
ObjIProductService""! 3
.""3 4!
GetProductsbyCategory""4 I
(""I J
CategoryName""J V
,""V W
CompanyName""X c
,""c d
ProductName""e p
,""p q
	stateName""r {
)""{ |
;""| }
return## 
View## 
(## 
getAllProducts## &
)##& '
;##' (
}$$ 	
public** 
ActionResult** "
GetAllProductForFilter** 2
(**2 3
string**3 9
CategoryName**: F
=**F G
$str**G I
)**I J
{++ 	
TempData,, 
[,, 
$str,, #
],,# $
=,,% &
CategoryName,,' 3
;,,3 4
return-- 
View-- 
(-- 
this-- 
.-- 
GetAllFilterProduct-- 0
(--0 1
$num--1 2
,--2 3
CategoryName--4 @
)--@ A
)--A B
;--B C
}.. 	
[00 	
HttpPost00	 
]00 
public11 
ActionResult11 "
GetAllProductForFilter11 2
(112 3
int113 6
currentPageIndex117 G
,11H I
string11I O
CategoryName11P \
=11\ ]
$str11^ `
)11` a
{22 	
return44 
View44 
(44 
this44 
.44 
GetAllFilterProduct44 0
(440 1
currentPageIndex441 A
,44A B
CategoryName44C O
)44O P
)44P Q
;44Q R
}66 	
private88 "
ProductMasterViewModel88 &
GetAllFilterProduct88' :
(88: ;
int88; >
currentPage88? J
=88K L
$num88M N
,88N O
string88P V
CategoryName88W c
=88c d
$str88d f
)88f g
{99 	
try:: 
{;; 
var== 
getAllProducts== "
===# $
ObjIProductService==% 7
.==7 8
GetAllProduct==8 E
(==E F
currentPage==F Q
,==Q R
CategoryName==S _
)==_ `
;==` a
return>> 
getAllProducts>> %
;>>% &
}BB 
catchCC 
(CC 
	ExceptionCC 
exCC 
)CC  
{DD 
throwFF 
exFF 
;FF 
}GG 
}HH 	
publicKK 
ActionResultKK 
GetAllCategoryKK *
(KK* +
)KK+ ,
{LL 	
tryMM 
{NN 
varOO 
getAllCategoryOO "
=OO# $
ObjIProductServiceOO% 7
.OO7 8
GetAllCategoryOO8 F
(OOF G
)OOG H
;OOH I
returnPP 
PartialViewPP "
(PP" #
$strPP# P
,PPP Q
getAllCategoryPPR `
)PP` a
;PPa b
}QQ 
catchRR 
(RR 
	ExceptionRR 
exRR 
)RR  
{SS 
throwUU 
exUU 
;UU 
}VV 
}WW 	
public^^ 
ActionResult^^ 
GetProductDetail^^ ,
(^^, -
string^^- 3
	ProductId^^4 =
=^^> ?
$str^^@ B
)^^B C
{__ 	
try`` 
{aa 
TempDatabb 
[bb 
$strbb "
]bb" #
=bb$ %
$strbb& 5
;bb5 6
varcc  
getProductDetailbyIdcc (
=cc) *
ObjIProductServicecc+ =
.cc= >
GetProductDetailcc> N
(ccN O
	ProductIdccO X
)ccX Y
;ccY Z"
ProductMasterViewModelee &%
objProductMasterViewModelee' @
=eeA B
neweeC F"
ProductMasterViewModeleeG ]
(ee] ^
)ee^ _
;ee_ `%
objProductMasterViewModelhh )
.hh) *
pkSkuIdhh* 1
=hh2 3 
getProductDetailbyIdhh4 H
.hhH I
pkSkuIdhhI P
;hhP Q%
objProductMasterViewModelii )
.ii) *
SkuNameii* 1
=ii2 3 
getProductDetailbyIdii4 H
.iiH I
SkuNameiiI P
==iiQ S
nulliiT X
?iiY Z
$strii[ `
:iia b 
getProductDetailbyIdiic w
.iiw x
SkuNameiix 
;	ii Ä%
objProductMasterViewModeljj )
.jj) *
ItemCodejj* 2
=jj3 4 
getProductDetailbyIdjj5 I
.jjI J
ItemCodejjJ R
==jjS U
nulljjV Z
?jj[ \
$strjj] b
:jjc d 
getProductDetailbyIdjje y
.jjy z
ItemCode	jjz Ç
;
jjÇ É%
objProductMasterViewModelkk )
.kk) *
Descriptionkk* 5
=kk6 7 
getProductDetailbyIdkk8 L
.kkL M
DescriptionkkM X
==kkY [
nullkk\ `
?kka b
$strkkc i
:kkj k!
getProductDetailbyId	kkl Ä
.
kkÄ Å
Description
kkÅ å
;
kkå ç%
objProductMasterViewModelll )
.ll) *
Pricell* /
=ll0 1 
getProductDetailbyIdll2 F
.llF G
PricellG L
==llM O
nullllP T
?llU V
$strllW \
:ll] ^ 
getProductDetailbyIdll_ s
.lls t
Pricellt y
;lly z%
objProductMasterViewModelmm )
.mm) *
CurrentQuantitymm* 9
=mm: ; 
getProductDetailbyIdmm< P
.mmP Q
CurrentQuantitymmQ `
==mma c
nullmmd h
?mmi j
$strmmk p
:mmq r!
getProductDetailbyId	mms á
.
mmá à
CurrentQuantity
mmà ó
;
mmó ò%
objProductMasterViewModelnn )
.nn) *
SkuCreatedDatenn* 8
=nn9 : 
getProductDetailbyIdnn; O
.nnO P
SkuCreatedDatennP ^
;nn^ _%
objProductMasterViewModeloo )
.oo) *

GSTPercentoo* 4
=oo5 6 
getProductDetailbyIdoo7 K
.ooK L

GSTPercentooL V
==ooW Y
nullooZ ^
?oo_ `
$strooa f
:oog h 
getProductDetailbyIdooi }
.oo} ~

GSTPercent	oo~ à
;
ooà â%
objProductMasterViewModelpp )
.pp) *
imageUrlpp* 2
=pp3 4 
getProductDetailbyIdpp5 I
.ppI J
imageUrlppJ R
==ppS U
nullppV Z
?pp[ \
$strpp] t
:ppu v!
getProductDetailbyId	ppw ã
.
ppã å
imageUrl
ppå î
;
ppî ï%
objProductMasterViewModelqq )
.qq) *
min_qty_to_bookqq* 9
=qq: ; 
getProductDetailbyIdqq< P
.qqP Q
min_qty_to_bookqqQ `
==qqa c
nullqqd h
?qqi j
$strqqk p
:qqq r!
getProductDetailbyId	qqs á
.
qqá à
min_qty_to_book
qqà ó
;
qqó ò%
objProductMasterViewModelrr )
.rr) *
max_qty_to_bookrr* 9
=rr: ; 
getProductDetailbyIdrr< P
.rrP Q
max_qty_to_bookrrQ `
==rra c
nullrrd h
?rri j
$strrrk p
:rrq r!
getProductDetailbyId	rrs á
.
rrá à
max_qty_to_book
rrà ó
;
rró ò%
objProductMasterViewModelss )
.ss) *
Prd_company_namess* :
=ss; < 
getProductDetailbyIdss= Q
.ssQ R
Prd_company_namessR b
==ssc e
nullssf j
?ssk l
$strssm r
:sss t!
getProductDetailbyId	ssu â
.
ssâ ä
Prd_company_name
ssä ö
;
ssö õ%
objProductMasterViewModeltt )
.tt) *
Allow_SAP_Ordertt* 9
=tt: ; 
getProductDetailbyIdtt< P
.ttP Q
Allow_SAP_OrderttQ `
;tt` a%
objProductMasterViewModeluu )
.uu) *
	prd_Stateuu* 3
=uu4 5 
getProductDetailbyIduu6 J
.uuJ K
	prd_StateuuK T
==uuU W
nulluuX \
?uu] ^
$struu_ d
:uue f 
getProductDetailbyIduug {
.uu{ |
	prd_State	uu| Ö
;
uuÖ Ü%
objProductMasterViewModelvv )
.vv) *
Statusvv* 0
=vv1 2 
getProductDetailbyIdvv3 G
.vvG H
StatusvvH N
==vvO Q
nullvvR V
?vvW X
$strvvY ^
:vv_ ` 
getProductDetailbyIdvva u
.vvu v
Statusvvv |
;vv| }%
objProductMasterViewModelww )
.ww) *
packingSizeww* 5
=ww6 7 
getProductDetailbyIdww8 L
.wwL M
packingSizewwM X
==wwY [
nullww\ `
?wwa b
$strwwc h
:wwi j 
getProductDetailbyIdwwk 
.	ww Ä
packingSize
wwÄ ã
;
wwã å%
objProductMasterViewModelxx )
.xx) *
crp_priorityxx* 6
=xx7 8 
getProductDetailbyIdxx9 M
.xxM N
crp_priorityxxN Z
;xxZ [%
objProductMasterViewModelzz )
.zz) *
ProductPriorityzz* 9
=zz: ; 
getProductDetailbyIdzz< P
.zzP Q
ProductPriorityzzQ `
;zz` a%
objProductMasterViewModel{{ )
.{{) *
crp_catagory{{* 6
={{7 8 
getProductDetailbyId{{9 M
.{{M N
crp_catagory{{N Z
=={{[ ]
null{{^ b
?{{c d
$str{{e j
:{{k l!
getProductDetailbyId	{{m Å
.
{{Å Ç
crp_catagory
{{Ç é
;
{{é è%
objProductMasterViewModel|| )
.||) *
crp_type||* 2
=||3 4 
getProductDetailbyId||5 I
.||I J
crp_type||J R
==||S U
null||V Z
?||[ \
$str||] b
:||c d 
getProductDetailbyId||e y
.||y z
crp_type	||z Ç
;
||Ç É%
objProductMasterViewModel}} )
.}}) *
TC}}* ,
=}}- . 
getProductDetailbyId}}/ C
.}}C D
TC}}D F
==}}G I
null}}J N
?}}O P
$str}}Q V
:}}W X 
getProductDetailbyId}}Y m
.}}m n
TC}}n p
;}}p q%
objProductMasterViewModel~~ )
.~~) *
crop~~* .
=~~/ 0 
getProductDetailbyId~~1 E
.~~E F
crop~~F J
==~~J L
null~~M Q
?~~R S
$str~~T Y
:~~Z [ 
getProductDetailbyId~~\ p
.~~p q
crop~~q u
;~~u v
TempData
ÅÅ 
[
ÅÅ 
$str
ÅÅ '
]
ÅÅ' (
=
ÅÅ) *
$str
ÅÅ+ 4
;
ÅÅ4 5
return
ÇÇ 
View
ÇÇ 
(
ÇÇ '
objProductMasterViewModel
ÇÇ 5
)
ÇÇ5 6
;
ÇÇ6 7
}
ÉÉ 
catch
ÑÑ 
(
ÑÑ 
	Exception
ÑÑ 
ex
ÑÑ 
)
ÑÑ  
{
ÖÖ 
throw
áá 
ex
áá 
;
áá 
}
àà 
}
ââ 	
public
éé 

JsonResult
éé %
CheckUserProfileUpdated
éé 1
(
éé1 2
string
éé2 8
mobileNumber
éé9 E
=
ééF G
$str
ééH J
)
ééJ K
{
èè 	
try
êê 
{
ëë 
string
íí 
usermobileNumber
íí '
=
íí( )
LoggedInUser
íí* 6
.
íí6 7
MobileNumber
íí7 C
;
ííC D
var
ìì 
checkUserProfile
ìì $
=
ìì% &
ObjIUserService
ìì' 6
.
ìì6 7%
CheckUserProfileUpdated
ìì7 N
(
ììN O
usermobileNumber
ììO _
)
ìì_ `
;
ìì` a
if
îî 
(
îî 
checkUserProfile
îî $
==
îî% '
true
îî( ,
)
îî, -
{
ïï 
return
ññ 
Json
ññ 
(
ññ  
$str
ññ  &
,
ññ& '!
JsonRequestBehavior
ññ( ;
.
ññ; <
AllowGet
ññ< D
)
ññD E
;
ññE F
}
óó 
else
òò 
{
ôô 
return
öö 
Json
öö 
(
öö  
$str
öö  '
,
öö' (!
JsonRequestBehavior
öö) <
.
öö< =
AllowGet
öö= E
)
ööE F
;
ööF G
}
õõ 
}
úú 
catch
ùù 
(
ùù 
	Exception
ùù 
ex
ùù 
)
ùù  
{
ûû 
throw
†† 
ex
†† 
;
†† 
}
°° 
}
££ 	
public
ßß 
ActionResult
ßß 
GetProductFilter
ßß ,
(
ßß, -
string
ßß- 3
CategoryName
ßß4 @
=
ßßA B
$str
ßßC E
,
ßßE F
string
ßßG M
State
ßßN S
=
ßßT U
$str
ßßV X
,
ßßX Y
string
ßßZ `
search
ßßa g
=
ßßh i
$str
ßßj l
,
ßßl m
string
ßßn t
CompanyNameßßu Ä
=ßßÅ Ç
$strßßÉ Ö
)ßßÖ Ü
{
®® 	
if
™™ 
(
™™ 
CategoryName
™™ 
.
™™ 
Trim
™™ !
(
™™! "
)
™™" #
!=
™™$ &
$str
™™' ,
||
™™- /
CategoryName
™™0 <
!=
™™= ?
$str
™™@ B
)
™™B C
{
´´ 
TempData
≠≠ 
[
≠≠ 
$str
≠≠ '
]
≠≠' (
=
≠≠) *
CategoryName
≠≠+ 7
;
≠≠7 8
ViewBag
ÆÆ 
.
ÆÆ 
SubCategory
ÆÆ #
=
ÆÆ$ %
CategoryName
ÆÆ& 2
;
ÆÆ2 3
}
∞∞ 
else
±± 
{
≤≤ 
TempData
≥≥ 
[
≥≥ 
$str
≥≥ '
]
≥≥' (
=
≥≥) *
null
≥≥+ /
;
≥≥/ 0
}
¥¥ 
if
∂∂ 
(
∂∂ 
CompanyName
∂∂ 
.
∂∂ 
Trim
∂∂  
(
∂∂  !
)
∂∂! "
!=
∂∂# %
$str
∂∂& +
||
∂∂, .
CompanyName
∂∂/ :
!=
∂∂; =
$str
∂∂> @
)
∂∂@ A
{
∑∑ 
TempData
ππ 
[
ππ 
$str
ππ &
]
ππ& '
=
ππ( )
CompanyName
ππ* 5
;
ππ5 6
}
∫∫ 
else
ªª 
{
ºº 
TempData
ΩΩ 
[
ΩΩ 
$str
ΩΩ &
]
ΩΩ& '
=
ΩΩ( )
null
ΩΩ* .
;
ΩΩ. /
}
ææ 
if
¡¡ 
(
¡¡ 
search
¡¡ 
.
¡¡ 
Trim
¡¡ 
(
¡¡ 
)
¡¡ 
!=
¡¡  
$str
¡¡! &
||
¡¡' )
search
¡¡* 0
!=
¡¡1 3
$str
¡¡4 6
)
¡¡6 7
{
¬¬ 
TempData
ƒƒ 
[
ƒƒ 
$str
ƒƒ !
]
ƒƒ! "
=
ƒƒ# $
search
ƒƒ% +
;
ƒƒ+ ,
}
≈≈ 
else
∆∆ 
{
«« 
TempData
»» 
[
»» 
$str
»» !
]
»»! "
=
»»# $
null
»»% )
;
»») *
}
…… 
var
œœ "
checkMinProductPrice
œœ $
=
œœ% & 
ObjIProductService
œœ' 9
.
œœ9 :"
CheckMinProductPrice
œœ: N
(
œœN O
)
œœO P
;
œœP Q
var
–– "
CheckMaxProductPrice
–– $
=
––% & 
ObjIProductService
––' 9
.
––9 :"
CheckMaxProductPrice
––: N
(
––N O
)
––O P
;
––P Q
var
—— 
MidPricevalue
—— 
=
—— "
CheckMaxProductPrice
——  4
/
——5 6
$num
——7 8
;
——8 9
ViewBag
““ 
.
““ 
MinPrice
““ 
=
““ "
checkMinProductPrice
““ 3
;
““3 4
ViewBag
”” 
.
”” 
MaxPrice
”” 
=
”” "
CheckMaxProductPrice
”” 3
;
””3 4
ViewBag
‘‘ 
.
‘‘ 
MidPrice
‘‘ 
=
‘‘ 
MidPricevalue
‘‘ ,
;
‘‘, -
TempData
÷÷ 
[
÷÷ 
$str
÷÷ 
]
÷÷ 
=
÷÷  !
null
÷÷" &
;
÷÷& '
var
ÿÿ 
list
ÿÿ 
=
ÿÿ 
new
ÿÿ 
List
ÿÿ 
<
ÿÿ  $
ProductMasterViewModel
ÿÿ  6
>
ÿÿ6 7
(
ÿÿ7 8
)
ÿÿ8 9
;
ÿÿ9 :
return
ﬁﬁ 
View
ﬁﬁ 
(
ﬁﬁ 
)
ﬁﬁ 
;
ﬁﬁ 
}
ﬂﬂ 	
public
·· 

JsonResult
·· 
GetProductList
·· (
(
··( )
int
··) ,
counter
··- 4
,
··4 5
string
··6 <
Category
··= E
=
··F G
$str
··H J
,
··J K
string
··L R
State
··S X
=
··Y Z
$str
··[ ]
,
··] ^
string
··_ e
Search
··f l
=
··m n
$str
··o q
,
··q r
string
··s y
CompanyName··z Ö
=··Ü á
$str··à ä
,··ä ã
string··å í
Sort··ì ó
=··ò ô
$str··ö ú
,··ú ù
string··û §
CropName··• ≠
=··≠ Æ
$str··Æ ∞
,··∞ ±
int··≤ µ
MinPrice··∂ æ
=··æ ø
$num··ø ¿
,··¿ ¡
int··¬ ≈
MaxPrice··∆ Œ
=··Œ œ
$num··œ –
)··– —
{
‚‚ 	
int
„„ 
take
„„ 
=
„„ 
$num
„„ 
;
„„ 
int
‰‰ 
skip
‰‰ 
=
‰‰ 
counter
‰‰ 
;
‰‰ 
if
ÂÂ 
(
ÂÂ 
Category
ÂÂ 
==
ÂÂ 
$str
ÂÂ 
)
ÂÂ  
{
ÊÊ 
Category
ÁÁ 
=
ÁÁ 
$str
ÁÁ  
;
ÁÁ  !
}
ËË 
if
ÈÈ 
(
ÈÈ 
State
ÈÈ 
==
ÈÈ 
$str
ÈÈ 
)
ÈÈ 
{
ÍÍ 
State
ÎÎ 
=
ÎÎ 
$str
ÎÎ 
;
ÎÎ 
}
ÏÏ 
if
ÌÌ 
(
ÌÌ 
Search
ÌÌ 
==
ÌÌ 
$str
ÌÌ 
)
ÌÌ 
{
ÓÓ 
Search
ÔÔ 
=
ÔÔ 
$str
ÔÔ 
;
ÔÔ 
}
ÒÒ 
if
ÚÚ 
(
ÚÚ 
CompanyName
ÚÚ 
==
ÚÚ 
$str
ÚÚ "
)
ÚÚ" #
{
ÛÛ 
CompanyName
ÙÙ 
=
ÙÙ 
$str
ÙÙ #
;
ÙÙ# $
}
ıı 
var
˜˜ 
list
˜˜ 
=
˜˜  
ObjIProductService
˜˜ )
.
˜˜) *
GetAllProductList
˜˜* ;
(
˜˜; <
take
˜˜< @
,
˜˜@ A
skip
˜˜B F
,
˜˜F G
Category
˜˜H P
,
˜˜P Q
State
˜˜R W
,
˜˜W X
Search
˜˜Y _
,
˜˜_ `
CompanyName
˜˜a l
,
˜˜l m
Sort
˜˜n r
,
˜˜r s
CropName
˜˜t |
,
˜˜| }
MinPrice˜˜~ Ü
,˜˜Ü á
MaxPrice˜˜à ê
)˜˜ê ë
;˜˜ë í
var
˚˚ 
returnResult
˚˚ 
=
˚˚ 
Json
˚˚ #
(
˚˚# $
list
˚˚$ (
,
˚˚( )!
JsonRequestBehavior
˚˚* =
.
˚˚= >
AllowGet
˚˚> F
)
˚˚F G
;
˚˚G H
returnResult
¸¸ 
.
¸¸ 
MaxJsonLength
¸¸ &
=
¸¸' (
int
¸¸) ,
.
¸¸, -
MaxValue
¸¸- 5
;
¸¸5 6
return
˝˝ 
returnResult
˝˝ 
;
˝˝  
}
˛˛ 	
public
ÇÇ 
ActionResult
ÇÇ +
GetSubCategoriesProductFilter
ÇÇ 9
(
ÇÇ9 :
string
ÇÇ: @
CategoryName
ÇÇA M
=
ÇÇN O
$str
ÇÇP R
,
ÇÇR S
string
ÇÇT Z
CropName
ÇÇ[ c
=
ÇÇc d
$str
ÇÇd f
,
ÇÇf g
string
ÇÇg m
State
ÇÇn s
=
ÇÇt u
$str
ÇÇv x
,
ÇÇx y
stringÇÇz Ä
searchÇÇÅ á
=ÇÇà â
$strÇÇä å
,ÇÇå ç
stringÇÇé î
CompanyNameÇÇï †
=ÇÇ° ¢
$strÇÇ£ •
)ÇÇ• ¶
{
ÉÉ 	
if
ÖÖ 
(
ÖÖ 
CategoryName
ÖÖ 
.
ÖÖ 
Trim
ÖÖ !
(
ÖÖ! "
)
ÖÖ" #
!=
ÖÖ$ &
$str
ÖÖ' ,
||
ÖÖ- /
CategoryName
ÖÖ0 <
!=
ÖÖ= ?
$str
ÖÖ@ B
)
ÖÖB C
{
ÜÜ 
TempData
àà 
[
àà 
$str
àà '
]
àà' (
=
àà) *
CategoryName
àà+ 7
;
àà7 8
ViewBag
ââ 
.
ââ 
SubCategory
ââ #
=
ââ$ %
CategoryName
ââ& 2
;
ââ2 3
}
ãã 
else
åå 
{
çç 
TempData
éé 
[
éé 
$str
éé '
]
éé' (
=
éé) *
null
éé+ /
;
éé/ 0
}
èè 
if
íí 
(
íí 
CropName
íí 
.
íí 
Trim
íí 
(
íí 
)
íí 
!=
íí  "
$str
íí# (
||
íí) +
CropName
íí, 4
!=
íí5 7
$str
íí8 :
)
íí: ;
{
ìì 
TempData
ïï 
[
ïï 
$str
ïï #
]
ïï# $
=
ïï% &
CropName
ïï' /
;
ïï/ 0
}
òò 
if
õõ 
(
õõ 
CompanyName
õõ 
.
õõ 
Trim
õõ  
(
õõ  !
)
õõ! "
!=
õõ# %
$str
õõ& +
||
õõ, .
CompanyName
õõ/ :
!=
õõ; =
$str
õõ> @
)
õõ@ A
{
úú 
TempData
ûû 
[
ûû 
$str
ûû &
]
ûû& '
=
ûû( )
CompanyName
ûû* 5
;
ûû5 6
}
üü 
else
†† 
{
°° 
TempData
¢¢ 
[
¢¢ 
$str
¢¢ &
]
¢¢& '
=
¢¢( )
null
¢¢* .
;
¢¢. /
}
££ 
if
¶¶ 
(
¶¶ 
search
¶¶ 
.
¶¶ 
Trim
¶¶ 
(
¶¶ 
)
¶¶ 
!=
¶¶  
$str
¶¶! &
||
¶¶' )
search
¶¶* 0
!=
¶¶1 3
$str
¶¶4 6
)
¶¶6 7
{
ßß 
TempData
©© 
[
©© 
$str
©© !
]
©©! "
=
©©# $
search
©©% +
;
©©+ ,
}
™™ 
else
´´ 
{
¨¨ 
TempData
≠≠ 
[
≠≠ 
$str
≠≠ !
]
≠≠! "
=
≠≠# $
null
≠≠% )
;
≠≠) *
}
ÆÆ 
TempData
∂∂ 
[
∂∂ 
$str
∂∂ 
]
∂∂ 
=
∂∂  !
null
∂∂" &
;
∂∂& '
var
∏∏ 
list
∏∏ 
=
∏∏ 
new
∏∏ 
List
∏∏ 
<
∏∏  $
ProductMasterViewModel
∏∏  6
>
∏∏6 7
(
∏∏7 8
)
∏∏8 9
;
∏∏9 :
return
ææ 
View
ææ 
(
ææ 
)
ææ 
;
ææ 
}
øø 	
public
¿¿ 

JsonResult
¿¿ '
GetSubCategoryProductList
¿¿ 3
(
¿¿3 4
int
¿¿4 7
counter
¿¿8 ?
,
¿¿? @
string
¿¿A G
Category
¿¿H P
=
¿¿Q R
$str
¿¿S U
,
¿¿U V
string
¿¿W ]
State
¿¿^ c
=
¿¿d e
$str
¿¿f h
,
¿¿h i
string
¿¿j p
Search
¿¿q w
=
¿¿x y
$str
¿¿z |
,
¿¿| }
string¿¿~ Ñ
Sort¿¿Ö â
=¿¿ä ã
$str¿¿å é
)¿¿é è
{
¡¡ 	
int
¬¬ 
take
¬¬ 
=
¬¬ 
$num
¬¬ 
;
¬¬ 
int
√√ 
skip
√√ 
=
√√ 
counter
√√ 
;
√√ 
if
ƒƒ 
(
ƒƒ 
Category
ƒƒ 
==
ƒƒ 
$str
ƒƒ 
)
ƒƒ  
{
≈≈ 
Category
∆∆ 
=
∆∆ 
$str
∆∆  
;
∆∆  !
}
«« 
if
»» 
(
»» 
State
»» 
==
»» 
$str
»» 
)
»» 
{
…… 
State
   
=
   
$str
   
;
   
}
ÀÀ 
if
ÃÃ 
(
ÃÃ 
Search
ÃÃ 
==
ÃÃ 
$str
ÃÃ 
)
ÃÃ 
{
ÕÕ 
Search
ŒŒ 
=
ŒŒ 
$str
ŒŒ 
;
ŒŒ 
}
–– 
var
”” 
list
”” 
=
””  
ObjIProductService
”” )
.
””) *'
GetSubCategoryProductList
””* C
(
””C D
take
””D H
,
””H I
skip
””J N
,
””N O
Category
””P X
,
””X Y
State
””Z _
,
””_ `
Search
””a g
,
””g h
Sort
””i m
)
””m n
;
””n o
var
◊◊ 
returnResult
◊◊ 
=
◊◊ 
Json
◊◊ #
(
◊◊# $
list
◊◊$ (
,
◊◊( )!
JsonRequestBehavior
◊◊* =
.
◊◊= >
AllowGet
◊◊> F
)
◊◊F G
;
◊◊G H
returnResult
ÿÿ 
.
ÿÿ 
MaxJsonLength
ÿÿ &
=
ÿÿ' (
int
ÿÿ) ,
.
ÿÿ, -
MaxValue
ÿÿ- 5
;
ÿÿ5 6
return
ŸŸ 
returnResult
ŸŸ 
;
ŸŸ  
}
⁄⁄ 	
}
‡‡ 
}·· ï
_E:\P.R.O.J.E.C.T.S\GrowIndigoWebApplication\Project\GrowMandi.Web\Controllers\UserController.cs
	namespace 	
	GrowMandi
 
. 
Web 
. 
Controllers #
{ 
public 

class 
UserController 
:  !
BaseController" 0
{ 
ResponceModel 
objResponse !
=" #
new$ '
ResponceModel( 5
(5 6
)6 7
;7 8
CommonController 
objCommonController ,
=- .
new/ 2
CommonController3 C
(C D
)D E
;E F
CommonFunctions 
objCommonFunctions *
=+ ,
new- 0
CommonFunctions1 @
(@ A
)A B
;B C
[ 	

Dependency	 
] 
public 
IUserServices 
ObjIUserService ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
[ 	

Dependency	 
] 
public 
ICommonService 
ObjICommonServices 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
public(( 
ActionResult(( 
Index(( !
(((! "
)((" #
{)) 	
return** 
View** 
(** 
)** 
;** 
}++ 	
[22 	
HttpPost22	 
]22 
public33 
ActionResult33 
AddAddreessForUser33 .
(33. /$
ShippingAddressViewModel33/ G'
objShippingAddressViewModel33H c
)33c d
{44 	
try55 
{66 '
objShippingAddressViewModel77 +
.77+ ,
retailer_mobile77, ;
=77< =
LoggedInUser77> J
.77J K
MobileNumber77K W
;77W X
var88 

addAddress88 
=88  
ObjIUserService88! 0
.880 1
AddAddreessForUser881 C
(88C D'
objShippingAddressViewModel88D _
)88_ `
;88` a
if99 
(99 

addAddress99 
)99 
{:: 
TempData;; 
[;; 
$str;; -
];;- .
=;;/ 0
Resource;;1 9
.;;9 :)
GrowOnline_Message_AddAddress;;: W
;;;W X
return<< 
RedirectToAction<< +
(<<+ ,
$str<<, 6
,<<6 7
$str<<8 ?
)<<? @
;<<@ A
}>> 
else?? 
{@@ 
TempDataAA 
[AA 
$strAA -
]AA- .
=AA/ 0
ResourceAA1 9
.AA9 :.
"GrowOnline_Message_ErrorAddAddressAA: \
;AA\ ]
returnCC 
RedirectToActionCC +
(CC+ ,
$strCC, 6
,CC6 7
$strCC8 ?
)CC? @
;CC@ A
}DD 
}EE 
catchFF 
(FF 
	ExceptionFF 
exFF 
)FF  
{GG 
throwII 
exII 
;II 
}JJ 
}LL 	
}NN 
}OO ∏
gE:\P.R.O.J.E.C.T.S\GrowIndigoWebApplication\Project\GrowMandi.Web\Customfilter\CustomExceptionFilter.cs
	namespace 	
	GrowMandi
 
. 
Web 
. 
Customfilter $
{		 
public

 

class

 !
CustomExceptionFilter

 &
:

' (
FilterAttribute

) 8
,

8 9
IExceptionFilter

: J
{ 
public 
void 
OnException 
(  
ExceptionContext  0
filterContext1 >
)> ?
{ 	
string 
Projectpath 
=   
ConfigurationManager! 5
.5 6
AppSettings6 A
[A B
$strB O
]O P
;P Q
if 
( 
! 
filterContext 
. 
ExceptionHandled /
&&0 2
filterContext3 @
.@ A
	ExceptionA J
isK M"
NullReferenceExceptionN d
)d e
{ 
filterContext 
. 
Result $
=% &
new' *
RedirectResult+ 9
(9 :
Projectpath: E
+F G
$strH [
)[ \
;\ ]
filterContext 
. 
ExceptionHandled .
=/ 0
true1 5
;5 6
} 
if 
( 
! 
filterContext 
. 
ExceptionHandled /
)/ 0
{ 
filterContext 
. 
Result $
=% &
new' *
RedirectResult+ 9
(9 :
Projectpath: E
+F G
$strH [
)[ \
;\ ]
filterContext 
. 
ExceptionHandled .
=/ 0
true1 5
;5 6
} 
else 
{ 
filterContext 
. 
Result $
=% &
new' *
RedirectResult+ 9
(9 :
Projectpath: E
+F G
$strH [
)[ \
;\ ]
filterContext 
. 
ExceptionHandled .
=/ 0
true1 5
;5 6
} 
} 	
}   
}!! ¨%
PE:\P.R.O.J.E.C.T.S\GrowIndigoWebApplication\Project\GrowMandi.Web\Global.asax.cs
	namespace

 	
	GrowMandi


 
.

 
Web

 
{ 
public 

class 
MvcApplication 
:  !
System" (
.( )
Web) ,
., -
HttpApplication- <
{ 
	protected 
void 
Application_Start (
(( )
)) *
{ 	
UnityConfig 
. 
RegisterComponents *
(* +
)+ ,
;, -
AreaRegistration 
. 
RegisterAllAreas -
(- .
). /
;/ 0
FilterConfig 
. !
RegisterGlobalFilters .
(. /
GlobalFilters/ <
.< =
Filters= D
)D E
;E F
RouteConfig 
. 
RegisterRoutes &
(& '

RouteTable' 1
.1 2
Routes2 8
)8 9
;9 :
BundleConfig 
. 
RegisterBundles (
(( )
BundleTable) 4
.4 5
Bundles5 <
)< =
;= >
GlobalFilters 
. 
Filters !
.! "
Add" %
(% &
new& )!
CustomExceptionFilter* ?
(? @
)@ A
)A B
;B C
} 	
	protected 
void $
Application_BeginRequest /
(/ 0
object0 6
sender7 =
,= >
	EventArgs? H
eI J
)J K
{ 	

HttpCookie 
cookie 
= 
HttpContext  +
.+ ,
Current, 3
.3 4
Request4 ;
.; <
Cookies< C
[C D
$strD N
]N O
;O P
HttpContext 
ctx 
= 
HttpContext )
.) *
Current* 1
;1 2
if 
( 
cookie 
!= 
null 
&& !
cookie" (
.( )
Value) .
!=/ 1
null2 6
)6 7
{ 
System 
. 
	Threading  
.  !
Thread! '
.' (
CurrentThread( 5
.5 6
CurrentCulture6 D
=E F
newG J
SystemK Q
.Q R
GlobalizationR _
._ `
CultureInfo` k
(k l
cookiel r
.r s
Values x
)x y
;y z
System 
. 
	Threading  
.  !
Thread! '
.' (
CurrentThread( 5
.5 6
CurrentUICulture6 F
=G H
newI L
SystemM S
.S T
GlobalizationT a
.a b
CultureInfob m
(m n
cookien t
.t u
Valueu z
)z {
;{ |
} 
else   
{!! 
System## 
.## 
	Threading##  
.##  !
Thread##! '
.##' (
CurrentThread##( 5
.##5 6
CurrentCulture##6 D
=##E F
new##G J
System##K Q
.##Q R
Globalization##R _
.##_ `
CultureInfo##` k
(##k l
$str##l p
)##p q
;##q r
System$$ 
.$$ 
	Threading$$  
.$$  !
Thread$$! '
.$$' (
CurrentThread$$( 5
.$$5 6
CurrentUICulture$$6 F
=$$G H
new$$I L
System$$M S
.$$S T
Globalization$$T a
.$$a b
CultureInfo$$b m
($$m n
$str$$n r
)$$r s
;$$s t
}%% 
}'' 	
	protected(( 
void(( $
Application_BeginRequest(( /
(((/ 0
)((0 1
{)) 	
Response** 
.** 
Cache** 
.** 
SetCacheability** *
(*** +
HttpCacheability**+ ;
.**; <
NoCache**< C
)**C D
;**D E
Response++ 
.++ 
Cache++ 
.++ 

SetExpires++ %
(++% &
DateTime++& .
.++. /
UtcNow++/ 5
.++5 6
AddHours++6 >
(++> ?
-++? @
$num++@ A
)++A B
)++B C
;++C D
Response,, 
.,, 
Cache,, 
.,, 

SetNoStore,, %
(,,% &
),,& '
;,,' (
}66 	
}77 
}88 á
\E:\P.R.O.J.E.C.T.S\GrowIndigoWebApplication\Project\GrowMandi.Web\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str (
)( )
]) *
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str *
)* +
]+ ,
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
["" 
assembly"" 	
:""	 

AssemblyVersion"" 
("" 
$str"" $
)""$ %
]""% &
[## 
assembly## 	
:##	 

AssemblyFileVersion## 
(## 
$str## (
)##( )
]##) *